(function(){window.SID=(new Date).getTime();var b=document.location;window.urls=document.location.href;window.basePath=location.href.match(/[a-zA-Z0-9:_./\-]*\/page\//)[0].replace("/page/","");window._getParameter=function(a,c){var d=String(c||b).match(new RegExp("[?&]"+a+"=([^&]*)(&?)","i"));return d?d[1]:null};window.FAST=!0;window.Zepto=$;window.Device=function(){var a={},b=navigator.userAgent,d=b.match(/(Android);?[\s\/]+([\d.]+)?/),e=b.match(/(iPad).*OS\s([\d_]+)/),h=b.match(/(iPod)(.*OS\s([\d_]+))?/),
f=!e&&b.match(/(iPhone\sOS)\s([\d_]+)/);a.ios=a.android=a.iphone=a.ipad=!1;a.os="web";d&&(a.os="android",a.osVersion=d[2],a.android=!0);if(e||f||h)a.os="iphone",a.ios=!0;f&&!h&&(a.osVersion=f[2].replace(/_/g,"."),a.iphone=!0);e&&(a.osVersion=e[2].replace(/_/g,"."),a.ipad=!0);h&&(a.osVersion=h[3]?h[3].replace(/_/g,"."):null,a.iphone=!0);a.ios&&a.osVersion&&0<=b.indexOf("Version/")&&"10"===a.osVersion.split(".")[0]&&(a.osVersion=b.toLowerCase().split("version/")[1].split(" ")[0]);return a}()})();
var NS={MSG:{MsgMustInput:"请输入{0}！",MsgSelect:"请选择{0}！",MsgCheck:"请阅读并勾选{0}！",MsgMinLength:"{0}长度不能小于{1}位！",MsgMaxLength:"{0}长度不能超过{1}位！",MsgLength:"{0}长度必须为{1}位！",MsgMinValue:"{0}不能小于{1}！",MsgMaxValue:"{0}不能大于{1}！",MsgMoney:"{0}必须大于0！",MsgNumber:"{0}必须是整数！",MsgFormat:"{0}格式不正确！",MsgStr:"{0}不能包含特殊字符！",Msglengu:"{0}必须是9-10位的字符",MsgAjaxError:"系统繁忙，资金类交易请及时核对账户信息",Msg_int:"{0}必须是整数！",Msg_zipcode:"{0}必须为6位数字！",Msg_money:"金额由9位整数或2位小数组成！",Msg_card:"{0}必须是16-19位数字！",Msg_chinese:"{0}必须是汉字！",Msg_specialFont:"{0}不能包含特殊字符！",
Msg_sms:"{0}必须为6位数字！"},EVT_NAME:{QUERY:"查询",OK:"确定",BACK:"返回",CANCLE:"取消"},PATTERN:{"int":/^-?[1-9]\d*$/,mobile:/^0?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/,phone:/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$|0?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}/,zipcode:/^[1-9][0-9]{5}$/,money:/^([1-9][\d]{0,8}|0)(\.[\d]{1,2})?$/,email:/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/,card:/^\d{16,19}$/,lpd:/^[a-z|A-Z|0-9]*$/,chinese:/^([\u4E00-\uFA29]|[\uE7C7-\uE7F3])*$/,
name:/^[\u4e00-\u9fa5]+·*[\u4e00-\u9fa5]*$/,specialFont:/[^\u4e00-\u9fa5\w，。；：“”‘’,.()（）]/,unitcode:/^[0-9a-zA-Z-]*$/,sms:/^\d{6}$/}},keyBoardEle,YT={idSeed:1E4,id:function(){return"yt_gen_"+ ++YT.idSeed},emptyFn:function(){},log:{info:function(){},debug:function(){},warn:function(){},error:function(){}},namespace:function(){var b=null,a;YT.each(arguments,function(c){a=c.split(".");b=window[a[0]]=window[a[0]]||{};YT.each(a.slice(1),function(a){b=b[a]=b[a]||{}})});return b},apply:function(b,a,c){c&&
YT.apply(b,c);if(b&&a&&YT.isObject(a))for(var d in a)b[d]=a[d];return b},applyIf:function(b,a){if(b)for(var c in a)YT.isDefined(b[c])||(b[c]=a[c]);return b},extend:function(){var b=Object.prototype.constructor,a=function(a){for(var d in a)a.hasOwnProperty(d)&&(this[d]=a[d])};return function(c,d,e){YT.isObject(d)&&(e=d,d=c,c=e.constructor!==b?e.constructor:function(){d.apply(this,arguments)});if(!d)return null;var h=function(){},f=d.prototype;h.prototype=f;h=c.prototype=new h;h.constructor=c;c.superclass=
f;f.constructor===b&&(f.constructor=d);c.override=function(a){YT.override(c,a)};h.override=a;h.proto=h;c.override(e);c.extend=function(a){return YT.extend(c,a)};return c}}(),override:function(b,a){YT.apply(b.prototype,a)},toString:function(b){return Object.prototype.toString.apply(b)},isDefined:function(b){return"undefined"!==typeof b},isEmpty:function(b,a){return null===b||void 0===b||"NULL"===String(b).toUpperCase()||YT.isArray(b)&&!b.length||(a?!1:""===b)},isArray:function(b){return"[object Array]"===
YT.toString(b)},isDate:function(b){return"[object Date]"===YT.toString(b)},isObject:function(b){return!!b&&"[object Object]"===YT.toString(b)},isFunction:function(b){return"[object Function]"===YT.toString(b)},isNumber:function(b){return"number"===typeof b&&isFinite(b)},isString:function(b){return"string"===typeof b},isBoolean:function(b){return"boolean"===typeof b},isPrimitive:function(b){return YT.isString(b)||YT.isNumber(b)||YT.isBoolean(b)},isIterable:function(b){return b&&"string"!==typeof b?
YT.isDefined(b.length):!1},isUrl:function(b){return/(((^https?)|(^ftp)):\/\/((([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;~=%!]*)(\.\w{2,})?)*)|(localhost|LOCALHOST|127.0.0.1))\/?)/i.test(b)},getRandom:function(b){var a="";if(b&&0<b)for(var c=0;c<b;c++)a+=Math.floor(10*Math.random());return a},setPrevPanel:function(b){YT._prevPanel=b},getPrevPanel:function(){return YT._prevPanel},clearPrevPanel:function(){YT._prevPanel=void 0},setParameters:function(b){YT._data=b},getParameters:function(){return YT._data||
{}},getUrlParams:function(){var b=location.search,a={};if(-1!=b.indexOf("?"))for(strs=b.substr(1).split("&"),b=0;b<strs.length;b++)a[strs[b].split("=")[0]]=decodeURI(strs[b].split("=")[1]);return a},clearParameters:function(){YT._data={}},each:function(b,a,c){if(!YT.isEmpty(b))if(YT.isDefined(c)||(c=b),YT.isObject(b)){var d=0,e;for(e in b)if(b.hasOwnProperty(e)&&!1===a.call(c||b,e,b[e],d++,b))break}else{if(!YT.isIterable(b)||YT.isPrimitive(b))b=[b];d=0;for(e=b.length;d<e;d++)if(!1===a.call(c||b[d],
b[d],d,b))return d}},bind:function(b,a){return YT.isFunction(b)?function(){return b.apply(a,arguments)}:b},define:function(b){var a=arguments;1<a.length||!YT.isFunction(b)?define.apply(this,a):define.call(this,b)},template:function(){var b=arguments,a=b[0];if(YT.isArray(a))if(1<a.length){var c=[],d={};YT.each(a,function(a){YT.isObject(a)?YT.apply(d,a):c.push(a)});YT.each(d,function(a,d){YT.isFunction(d)&&juicer.register(a,d)});b[0]=c.join("")}else b[0]=a[0];return juicer.apply(this,b)},JsonToStr:function(b){return JSON.stringify(b)},
JsonEval:function(b){return eval("("+b+")")},_hideKeyboard:function(b){$("#mainBody .navbar-views").css({"-webkit-transform":"translateY(0)",transform:"translateY(0)"});$("#mainBody .yui-auth-form").css({"-webkit-transform":"translateY(0)",transform:"translateY(0)"});try{keyBoardEle.blur()}catch(a){}},_preShowKeyBoard:function(b){YT.isString(b)&&(b=$("#"+b));var a=YT.isNumber(YT.KeyBoardHight)?YT.KeyBoardHight:300,c=b.height();b=b.offset().top;var d=$(window).scrollTop(),c=W_HEIGHT+d-b-c;c<a&&($("#mainBody .views").css({"-webkit-transform":"translateY("+
(c-a)+"px)",transform:"translateY("+(c-a)+"px)"}),$("#mainBody .yui-auth-form").css({"-webkit-transform":"translateY("+(c-a)+"px)",transform:"translateY("+(c-a)+"px)"}))},initEvent:function(b){var a=this,c={TPwd:"showTPwdPicker",LPwd:"showLPwdPicker",Date:"showDatePicker",Money:"showMoneyPicker",Number:"showNumPicker",IDC:"showIDCPicker"};b.on("click","input[data-keyboard]",function(d){d.preventDefault();d=$(this);"true"==d.attr("data-clear")&&d.val("");var e=d.attr("data-keyboard"),e=c[e];keyBoardEle=
d;a[e]&&a[e](d);return!1})},showTPwdPicker:function(b){YT.Client.showTPwdPicker(b)},showLPwdPicker:function(b){YT.Client.showLPwdPicker(b)},showDatePicker:function(b){YT.Client.showDatePicker(b)},showMoneyPicker:function(b){YT.Client.showMoneyPicker(b)},showNumPicker:function(b){YT.Client.showNumPicker(b)},showIDCPicker:function(b){YT.Client.showIDCPicker(b)},touch:function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)},initPageEvent:function(b,
a){var c=function(d,e,b){b=e.data(b);a[b]&&a[b](d,e)};b.on("click","[data-event]",function(a){c&&c(a,$(this),"event")});b.on("change","[data-change]",function(a){c&&c(a,$(this),"change")});b.on("input","[data-input]",function(a){c&&c(a,$(this),"input")});b.on("blur","[data-blur]",function(a){c&&c(a,$(this),"blur")});b.on("click","[data-jump]",function(a){a.preventDefault();a=$(this).attr("data-jump");YT.log.debug("data-jump:"+a);YT.isEmpty(a)?YT.alertinfo("跳转页面不存在"):YT.nextPage(a)});YT.initEvent(b);
YT.Collection&&YT.Collection.endInitModule()},initPageTitle:function(b){YT.Client.initPageTitle(b)},titleSearchBar:function(b){func=YT.getFunctionName(func);b={placeholder:placeholder,callback:func};YT.Client.titleSearchBar(b)},showPageArea:function(b,a,c){YT.NavUtil.showPageArea(b,a,c)},loadPage:function(b,a,c,d,e){YT.AjaxUtil.loadPage(b,a,c,d,e)},getPage:function(b,a,c){YT.AjaxUtil.getPage(b,a,c)},openWaitPanel:function(b){YT.Client.openWaitPanel(b||"正在加载中。。。")},hideWaitPanel:function(b){YT.Client.hideWaitPanel(b?
b:100)},alertinfo:function(b,a,c,d){YT.Client.alertinfo(b,a,c,d)},confirm:function(b,a,c,d,e,h){YT.Client.confirm(b,a,c,d,e,h)},sessionTimeout:function(b,a,c){YT.Client.sessionTimeout(b,a,c)},resetLoginSession:function(b,a){YT.Client.resetLoginSession(JSON.stringify(b),a)},getSession:function(b){YT.Session.getSession(b)},getCacheSession:function(b,a,c){YT.Client.getSession(b,a,c)},setCacheSession:function(b,a,c){YT.Client.setSession(b,JSON.stringify(a),c)},showTips:function(b){YT.Tips.showTips({content:b,
stayTime:2E3,type:"warn"})},ajaxData:function(b,a,c,d){YT.Client.post(b,a,c,d)},onceAjaxData:function(b,a,c,d){YT.AjaxUtil.onceAjaxData(b,a,c,d)},ajaxText:function(b){YT.AjaxUtil.ajaxText(b)},ajaxCashe:function(b,a,c,d,e,h,f){YT.Client.getNativeCache(b,a,c,d,e,h,f)},openMenuPage:function(b){YT.Client.openMenuPage(b)},geneQRC:function(b,a){YT.Client.geneQRC(b||{},a)},sweepQRC:function(b){YT.Client.sweepQRC(b)},sharePages:function(b,a){YT.Client.sharePages(b,a)},shareReceipt:function(b,a){YT.Client.shareReceipt(b,
a)},showPopupWindow:function(b,a,c){var d=[];$.each(b,function(a){var c={};a=b[a];c.name=a.name;a=a.func;a=YT.getFunctionName(a);c.func=a;d.push(c)});YT.Popup.initPopupindow(a,c,{list:d})},showPopuMenus:function(b,a,c){var d=[];$.each(b,function(a){var c={};a=b[a];c.name=a.name;a=a.func;a=YT.getFunctionName(a);c.func=a;d.push(c)});YT.Popup.initPopuMenus(a,c,d)},openMobilePhoto:function(b,a){YT.Client.openMobilePhoto(b,a)},openMobileCamera:function(b,a){YT.Client.openMobileCamera(b,a)},openMobilePhotoAlbum:function(b,
a){YT.Client.openMobilePhotoAlbum(b,a)},location:function(b){YT.Client.location(b)},fingerPrint:function(b){YT.Client.checkFingerPrint(b)},openFingerPrint:function(b){YT.Client.openFingerPrint(b)},setGesture:function(b){YT.Client.setGesture(b)},checkGesture:function(b){YT.Client.checkGesture(b)},openOrColse:function(b){YT.Client.openOrColse(b)},gotoClientIndex:function(){YT.Client.gotoIndex()},gotoClientBack:function(){YT.Client.gotoBack()},gotoClientLogin:function(b,a,c){YT.Client.gotoLogin(b,a,
c)},openPhoneBook:function(b){YT.Client.openPhoneBook(b)},sendSms:function(b){YT.Client.sendSms(b)},callPhone:function(b){YT.Client.callPhone(b)},getClientInfo:function(b){YT.Client.getClientInfo(b)},scanBankCardOCR:function(b,a,c){YT.Client.scanBankCardOCR(b,a,c)},scanIDCardFrontOCR:function(b,a,c){YT.Client.scanIDCardFrontOCR(b,a,c)},scanIDCardBackOCR:function(b,a,c){YT.Client.scanIDCardBackOCR(b,a,c)},scanVehicleLicenceFrontOCR:function(b,a,c){YT.Client.scanVehicleLicenceFrontOCR(b,a,c)},scanVehicleLicenceBackOCR:function(b,
a,c){YT.Client.scanVehicleLicenceBackOCR(b,a,c)},scanBusinessLicenceOCR:function(b,a,c){YT.Client.scanBusinessLicenceOCR(b,a,c)},liveFaceCheck:function(b,a,c){YT.Client.liveFaceCheck(b,a,c)},isWeb:function(){return YT.Client.isWeb},dataUrl:function(b,a,c,d){YT.Collection.changeTimeX();b=0==b.indexOf("/")?b:"/"+b;return 1==DEBUG||2==DEBUG&&a?(a=YT.TestUtil,c=c&&(YT.isString(c)?c:a&&a.dispatch(b,c))||"",basePath+"/data/json"+b+c+(d?".json":".js")):b+".do"},formatUrl:function(b){return b+(0<b.indexOf("?")?
"&t=":"?t=")+(new Date).getTime()},exchangeCss:function(b,a,c){a&&a.removeClass(c);b&&b.addClass(c)},getFunctionName:function(b,a){if(null==b||""==b)return"";if("[object Function]"!==Object.prototype.toString.apply(b))return b;var c=YT.id();window[c]=function(){var d=[];YT.each(arguments,function(e){1==a&&(e=decodeURIComponent(e));"string"==typeof e&&"{"==e.charAt(0)&&"}"==e.charAt(e.length-1)&&(e=YT.JsonEval(e.replace(/<\/?[^>]*>/g,"").replace(/[\r\n]/g,"<br>")));d.push(e)},this);b.apply(this,d);
delete window[c]};return c},executeFunc:function(b,a){a&&a(b)},sysdate:function(b){YT.DateUtils.sysdate(b)},getDate:function(b,a){return YT.DateUtils.getDate(b,a)},dateDiff:function(b,a){return YT.DateUtils.dateDiff(b,a)},dateToWeek:function(b){return YT.DateUtils.dateToWeek(b)},add:function(b,a){return YT.NumberUtils.add(b,a)},sub:function(b,a){return YT.NumberUtils.sub(b,a)},mul:function(b,a){return YT.NumberUtils.mul(b,a)},div:function(b,a){return YT.NumberUtils.div(b,a)},loadIndexPage:function(b,
a){YT.NavUtil.loadIndexPage(b,a)},nextPage:function(b,a){YT.setParameters(a);YT.NavUtil.nextPage(b)},prevPage:function(b){YT.NavUtil.prevPage(b)},gotoIndex:function(){YT.NavUtil.gotoIndex()},refreshPage:function(){YT.NavUtil.refreshPage()},openLeftMenu:function(b){YT.NavUtil.openLeftMenu()},openRightMenu:function(b){YT.NavUtil.openRightMenu()},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var a=16*Math.random()|0;return("x"==b?a:a&3|8).toString(16)})}};
YT.namespace("YT.core","YT.util","YT.device");Fw=YT;$.postAjax={};$.fn.extend({bubbleByCls:function(b){var a=this.parent();return b&&a?a.hasClass(b)?a:a.bubbleByCls(b):null}});YT.Ajax=function(b){YT.apply(this,b);YT.Ajax.superclass.constructor.call(this);return this};
YT.extend(YT.Ajax,YT.util.Observable,{autoLoad:!0,autoDecode:!0,params:{},load:function(b){var a=this;YT.apply(a.params,b);a.lastOptions=b;!1!==a.fireEvent("beforeload",a)&&(a.isLoading=!0,YT.log.debug("--ajax.url---",a.url),YT.ajaxData(a.url,a.params,function(b){a.fireEvent("load",a,b);a.isLoading=!1}))},reload:function(){this.load(this.lastOptions)}});
(function(){YT.TransAjax=function(){return{_timeoutflg:!0,options:{timeout:12E4,showError:!0,loadText:!1},init:function(b){YT.apply(this.options,b)},clear:function(){this._timeoutflg=!1;this._timeoutHandle&&clearTimeout(this._timeoutHandle)},start:function(){},newXhr:function(){var b=null;try{b=new XMLHttpRequest}catch(a){}return b},loadData:function(b){YT.log.debug("---ajaxData-init----","TransAjax");b=YT.apply({loadText:!1,mediaType:"application/json"},b);this.post(b)},sendData:function(b,a,c,d){a.send(d);
0<c.timeout&&(b._timeoutHandle=setTimeout(function(){a&&b._timeoutflg&&(YT.hideWaitPanel(),a.abort(),c.showError&&(YT.alertinfo(NS.MSG.MsgAjaxError),$("#mainBody").find(".ui-prev-loading").removeClass("ui-prev-loading")),YT.Collection.timeUrl(c.url,"120"))},c.timeout))},checkRspData:function(b,a){a?"005"==a.STATUS?(YT.hideWaitPanel(),setTimeout(function(){YT.sessionTimeout()},500)):"006"==a.STATUS?(YT.hideWaitPanel(),YT.alertinfo(""+a.MSG)):"1"!=a.STATUS?b.failure&&b.failure(a):b.success&&b.success(a):
(b.showError&&(YT.alertinfo(NS.MSG.MsgAjaxError),$("#mainBody").find(".ui-prev-loading").removeClass("ui-prev-loading")),b.failure&&b.failure(a))},post:function(b){var a=this,c=a.options;YT.apply(c,b);a.start();var d=this.newXhr(),e="";d.onreadystatechange=function(){if(4==this.readyState)if(200==this.status){a.clear();var d=this.responseText;YT.log.debug("["+a.options.url+"]\n rsp:"+d);if(YT.Client.isMessageEncrypt){var b=d;if(YT.Client.isGateWay){var h=YT.JsonEval(d),b=h.head,h=h.body;b&&h?(YT.isEmpty(b.H_UPS_SID)||
(YT.Client._head=b,YT.Client.upsSid=b.H_UPS_SID),b=h):(YT.showTips("通讯报文非网关通讯报文格式！"),b=d)}if(b&&0==b.indexOf("{"))h=YT.JsonEval(b),a.checkRspData(c,h);else try{var f=YT.Security.aesDecrypt(b,e);a.checkRspData(c,f)}catch(g){YT.log.debug(g),YT.hideWaitPanel(),YT.alertinfo("通讯报文解密失败！"),c.failure&&c.failure(rspData)}}else h=YT.JsonEval(d),YT.Client.isGateWay&&(b=h.head,h=h.body,b&&h&&!YT.isEmpty(b.H_UPS_SID)&&(YT.Client._head=b,YT.Client.upsSid=b.H_UPS_SID)),a.checkRspData(c,h)}else c.showError&&(YT.alertinfo(NS.MSG.MsgAjaxError),
$("#mainBody").find(".ui-prev-loading").removeClass("ui-prev-loading"))};d.open("POST",c.url,!0);d.setRequestHeader("Content-Type",c.mediaType||"application/json");b=c.param||c.params||{};var h={};if(YT.Client.isGateWay){var f={};f.H_CHNL_ID=""+YT.Client.chnlId;var g=(new Date).getTime();f.H_TIME=""+g;f.H_TIME_OFFSET=""+YT.Client.timeOffSet;f.H_NONCE=""+YT.guid();f.H_UPS_SID=""+YT.Client.upsSid;h.head=f;h.body=b}else h=b;YT.Client.isMessageEncrypt?(YT.log.debug("["+a.options.url+"]\n req:"+YT.JsonToStr(h)),
seajs.use("assets/js/security/encrypt",function(){e=YT.Security.getAesKey();if(YT.Client.isGateWay){var b=YT.Security.encrypt(h.body,e);h.body=b;YT.log.debug("["+a.options.url+"]\n Encrypt-req:"+YT.JsonToStr(h));a.sendData(a,d,c,YT.JsonToStr(h))}else b=YT.Security.encrypt(h,e),YT.log.debug("["+a.options.url+"]\n Encrypt-req:"+b),a.sendData(a,d,c,b)})):(YT.log.debug("["+a.options.url+"]\n req:"+YT.JsonToStr(h)),a.sendData(a,d,c,YT.JsonToStr(h)))}}}})();
$(function(){YT.log.debug("---init--","YT.Checkbox");var b=YT.Checkbox={init:function(a,c,d){c=a.find("[data-type='checkbox']");0<c.length&&b.initCheckBox(c,a)},initCheckBox:function(a,b){a.find(".y-checkbox").each(function(){var a=$(this).find("input[type=checkbox]");a.prop("checked")?($(this).addClass("checked"),a.attr("checked","true")):($(this).removeClass("checked"),a.removeAttr("checked"))});b.on("click",".y-checkbox",function(){var a=$(this).find("input[type=checkbox]");$(this).hasClass("checked")?
($(this).removeClass("checked"),a.removeAttr("checked","true")):($(this).addClass("checked"),a.attr("checked","true"))})}};YT.log.debug("---end--","YT.Checkbox")});YT.Component=function(b){YT.apply(this,b);YT.Component.superclass.constructor.call(this);this.initComponent();this.initEvents();this.finishRender();return this};
YT.extend(YT.Component,YT.util.Observable,{initComponent:function(){this.el=this.contentEl&&(YT.isString(this.contentEl)?$("#"+this.contentEl):this.contentEl);this.initTpl()},initEvents:YT.emptyFn,initTpl:YT.emptyFn,finishRender:function(){this.fireEvent("render",this)}});
(function(){YT.Layer={_forbidLayerId:"backDivX",_waitLayerId:"waitDivX",_waitCnt:0,_fMenuCnt:0,_fmCache:[],openWaitPanel:function(b){YT.log.debug("---openWaitPanel--","YT.Layer");b=b?b:"请稍等,正在加载中...";if(!this._waitCnt){this.createWaitForbider();var a=document.createElement("div");a.id=this._waitLayerId;this._lastLayer=document.body.appendChild(a);a=$(a).addClass("wait-layer");a.append(YT.template("<div align='center' class='container'><div class='loading'>${msg}</div></div>",{msg:b}));this._waitCnt++}},
hideWaitPanel:function(b){var a=this;YT.log.debug("---hideWaitPanel--"+a._waitCnt,"YT.Layer");if(0>=a._waitCnt--)a._waitCnt=Math.max(a._waitCnt,0);else try{setTimeout(function(){a.closeWaitForbider();a.removeDivId(a._waitLayerId)},b||300)}catch(c){YT.log.debug("---hideWaitPanel-error-","YT.Layer")}},createWaitForbider:function(b){YT.log.debug("---createWaitForbider--","YT.Layer");b=b?b:this._forbidLayerId;var a=document.createElement("div");a.id=b;document.body.appendChild(a);return a=$(a).addClass("forbid")},
removeDivId:function(b){(b=document.getElementById(b))&&b.parentNode.removeChild(b)},closeWaitForbider:function(b){b=b?b:this._forbidLayerId;this.removeDivId(b)}}})();
$(function(){function b(b,d){if(!YT.isEmpty(d)&&!YT.isEmpty(d[0])){200<$(".ui-ytlog-content div").length&&$("#mainBody").find(".ui-ytlog-content").html("");for(var e=Array.prototype.slice.call(d||[]),f="",g=0;g<e.length;g++){var k=e[g];if(YT.isArray(k)){for(var m=YT.JsonToStr(k),m=a(m),f=f+('<div class="out-fold"><div class="fold">Array ['+m+"]</div>"),m="",q=0;q<k.length;q++)var r=k[q],m=m+('<div class="arr-inner"><i class="key">'+q+"</i>:{0}{1}</div>"),t=[],t=YT.isArray(r)?[" Array ",c(r)]:YT.isObject(r)?
[" Object ",c(r)]:YT.isString(r)?[" ",'<i class="str">"'+r+'"</i>']:[" ",'<i class="num">'+r+"</i>"],m=m.replace(/\{(\d+)\}/g,function(a,b){return t[b]});f+='<div class="inner-fold">'+m+"</div></div>"}else YT.isObject(k)?(m=YT.JsonToStr(k),m=a(m),f+='<div class="out-fold"><div class="fold">Object '+m+"</div>",f+='<div class="inner-fold">'+c(k)+"</div></div>"):YT.isFunction(k)?f+='<div class="func">'+k+"</div>":(k=(""+k).replace(/[\r\n]/g,"<br>"),f+="<i>"+k+"</i>")}h.append('<div class="item '+b+'">'+
f+"</div>")}}function a(a){return 30<a.length?a.replace(/\s+/g,"").substr(0,30)+"...":a}function c(a){if(null==a)return'""';switch(typeof a){default:case "string":return""+a+"";case "object":if(a instanceof Array){for(var b=[],d=a.length,e=0;e<d;e++)b.push(c(a[e]));return b.join(" ")}b=[];for(e in a){var d=c(a[e]),h="",h=isNaN(d)?'<i class="val"> "'+d+'"</i>':'<i class="val num"> '+d+"</i>";b.push('<div class="kv-fold"><i class="key">'+e+" </i>:"+h+"</div>")}return b.join("")}}function d(){f.on("click",
".ui-ytlog-footer .close",function(){f.hide();g.find(".ui-ytlog-tips").show();$("body").css({overflow:"auto"})});g.on("click",".ui-ytlog-tips",function(){f.show();$(this).hide();$("body").css({overflow:"hidden"})});f.on("click",".ui-ytlog-footer .clean",function(){h.html("")});f.on("click",".ui-ytlog-content .fold",function(){$(this).parent().toggleClass("fold-show")})}function e(){window.onerror=function(a,b,d){YT.log.error("js异常",{"错误信息":a,"错误文件":b,"错误行数":d})}}var h,f,g,k={info:function(){b("info",
arguments)},debug:function(){b("debug",arguments)},warn:function(){b("warn",arguments)},error:function(){b("error",arguments)}},m=null;window.LOG_DEBUG&&console?"iphone"==Device.os||"android"==Device.os?($("#mainBody").append("<div class='ui-ytlog-wrap'>\t<div class='ui-ytlog-tips'>日志</div>\t<div class='ui-ytlog-panel'>\t\t<div class='ui-ytlog-header'>\t\t\t<div class='close'></div>\t\t\t<div class='txt'>console日志</div>\t\t\t<div class='clean'></div>\t\t</div>\t\t<div class='ui-ytlog-content'>\t\t</div>\t\t<div class='ui-ytlog-footer'>\t\t\t<div class='item clean'>\t\t\t\t<span>清理</span>\t\t\t</div>\t\t\t<div class='item close'>\t\t\t\t<span>关闭</span>\t\t\t</div>\t\t</div>\t</div></div>"),
g=$("#mainBody").find(".ui-ytlog-wrap"),f=g.find(".ui-ytlog-panel"),h=g.find(".ui-ytlog-content"),h.height($(window).height()-70),d(),e(),m=k):m=console:m={info:function(){},debug:function(){},warn:function(){},error:function(){}};YT.log=m});
(function(){YT.log.debug("-----init----","YT.MsgBox");var b=YT.MsgBox={_forbidLayerId:"backMsgDiv",_contentLayerId:"contentMsgDiv",_creatCnt:0,_tplMsgBox:null,init:function(){b._tplMsgBox='<div class="ui-dialog show"><div class="ui-dialog-cnt"><div class="ui-dialog-bd"><h4>${title}</h4><div>${msg}</div></div><div class="ui-dialog-ft ui-btn-group"><button type="button" id="msg_box_ok">${okName}</button>\t {@if cancleAct}<button type="button" id="msg_box_cancle">${cancleName}</button>\t {@/if}</div></div></div>';YT.log.debug("-----init-compile-2--",
"YT.MsgBox")},alertinfo:function(a,b,d,e){YT.log.debug("----init-1----","YT.alertinfo");YT.MsgBox.openMsgBox(a,b,d||YT.MsgBox.hideMsgBox,e)},confirm:function(a,b,d,e,h,f){YT.log.debug("----init-1----","YT.confirm");YT.MsgBox.openMsgBox(a,b,d,h,e||YT.MsgBox.hideMsgBox,f)},openMsgBox:function(a,c,d,e,h,f){YT.log.debug("---openMsgPanel--","YT.MsgBox");if(!this._creatCnt){this._creatCnt++;this.createMsgBoxForbider();var g=document.createElement("div");g.id=this._contentLayerId;this._lastLayer=document.body.appendChild(g);
var g=$(g).addClass("msg-layer"),k=b._tplMsgBox,m=YT.isDefined(h);YT.log.debug("=====cancle===="+m,"YT.MsgBox");a=juicer(k,{title:c||"提示",msg:a||"",cancleAct:m,okName:e||"确认",cancleName:f||"取消"});g.append(a);$("#msg_box_ok").on("click",function(){YT.log.debug("=====button.ok==1===","YT.MsgBox");d&&d(g);b.hideMsgBox()});if(m)$("#msg_box_cancle").on("click",function(){YT.log.debug("=====button.cancle==1===","YT.MsgBox");h&&h(g);b.hideMsgBox()})}},hideMsgBox:function(){YT.log.debug("---hideMsgBox--"+
b._creatCnt,"YT.MsgBox");if(0>=b._creatCnt--)b._creatCnt=Math.max(b._creatCnt,0);else try{b.closeMsgBoxForbider(),b.removeDivId(b._contentLayerId)}catch(a){YT.log.debug("---hideMsgPanel-error-","YT.MsgBox")}},createMsgBoxForbider:function(a){YT.log.debug("---createMsgBoxForbider--","YT.MsgBox");a=a?a:this._forbidLayerId;var b=document.createElement("div");b.id=a;document.body.appendChild(b);return b=$(b).addClass("forbid-box")},removeDivId:function(a){(a=document.getElementById(a))&&a.parentNode.removeChild(a)},
closeMsgBoxForbider:function(a){a=a?a:this._forbidLayerId;this.removeDivId(a)}};b.init();YT.log.debug("-----end----","YT.MsgBox")})();
(function(){var b=YT.Popup={_popupBoxId:"_popupBox",_AppWindow:"",_popupMenuTpl:'<div class="yui-popup-mask"></div>   <div class="yui-popup-group">\t\t<div class="yui-popup-array">\t\t\t<em></em>\t\t\t<i></i>\t\t</div>\t\t<div class="yui-popup-menus">\t\t\t<ul>\t\t\t{@each LIST as item,index}\t\t\t\t<li data-func="${item.func}">${item.name}</li>\t\t\t{@/each}\t\t\t</ul>\t\t</div>\t</div>',initPopupindow:function(a,b,d){this._AppWindow=b;this.hidePopupPanel();var e=d.tpl?d.tpl:"";b=document.createElement("div");
a[0].appendChild(b);b.id=this._popupBoxId;a=Fw.template(e?e:'\t<div class="ui-popup-overlay"></div>\t<div class="ui-popup-modal-view">\t\t<div class="ui-popup-modal-group">\t\t\t<div class="ui-popup-modal-label">请选择</div>\t\t{@each LIST as item,index}\t\t\t<div class="ui-popup-modal-button" _index=${index} func="${item.func}">${item.name}</div>\t\t{@/each}</div>\t\t<div class="ui-popup-modal-group">\t\t\t<div class="ui-popup-modal-button">取消</div>\t\t</div>\t</div>',{LIST:d.list});$(b).html(a);var h=
$(b).find(".ui-popup-modal-view");setTimeout(function(){h.addClass("modal-in")},200);$("body").css({overflow:"hidden"});this.initEvent()},initEvent:function(){var a=$("#"+this._popupBoxId);a.on("click",".ui-popup-modal-button",this.btnFunc);a.on("click",".ui-popup-overlay",this.hidePopupPanel)},btnFunc:function(){var a=$(this).attr("func");YT.isEmpty(a)||window[a]&&window[a]();b.hidePopupPanel()},hidePopupPanel:function(){$("body").css({overflow:"auto"});var a=$("#"+b._popupBoxId),c=a.find(".ui-popup-modal-view");
a.find(".ui-popup-overlay").remove();c.removeClass("modal-in");c.addClass("modal-out");setTimeout(function(){a.remove()},300)},initPopuMenus:function(a,c,d){c=Fw.template(b._popupMenuTpl,{LIST:d});d=document.createElement("div");a[0].appendChild(d);d.id="_popuMenus";$(d).html(c);$(d).on("click",".yui-popup-menus li",function(){var a=$(this).data("func");YT.isEmpty(a)||window[a]&&window[a]();b.hidePopuMenus()});$(d).on("click",".yui-popup-mask",function(){b.hidePopuMenus()})},hidePopuMenus:function(){$("#_popuMenus").remove()}}})();
$(function(){YT.log.debug("---init--","YT.Radiobox");var b=YT.Radiobox={init:function(a,c,d){var e=a.find('[data-type="radiobox"]');1>e.length||(b.initNormalRabiobox(e,a,c,d),b.initTabRabiobox(e,a,c,d))},initTabRabiobox:function(a,b,d,e){a.find(".y-radio-tab").each(function(){$(this).find('input[type="radio"]').prop("checked")?$(this).addClass("current"):$(this).removeClass("current")});b.on("click",".y-radio-tab",function(){var a=$(this).attr("data-callback"),e=$(this).find("input[type=radio]"),
g=e.attr("name");b.find("input[type=radio]").filter("[name="+g+"]").each(function(){$(this).parent().removeClass("current");$(this).removeAttr("checked")});$(this).addClass("current");e.attr("checked","true");d[a]&&d[a]()})},initNormalRabiobox:function(a,b,d,e){a.find(".y-radio").each(function(){var a=$(this).find('input[type="radio"]');a.prop("checked")?($(this).addClass("checked"),a.attr("checked","true")):($(this).removeClass("checked"),a.removeAttr("checked"))});b.on("click",".y-radio",function(){var a=
$(this).find("input[type=radio]").attr("name");b.find("input[type=radio]").filter("[name="+a+"]").each(function(){$(this).prop("checked")?($(this).parent().addClass("checked"),$(this).attr("checked","true")):($(this).parent().removeClass("checked"),$(this).removeAttr("checked"))})})}};YT.log.debug("---end--","YT.Radiobox")});
(function(){var b=null,a=181,c=YT.Slider={init:function(b,e,h){var f=b.find(".y-slider");if(0==f.length)return!1;a=f.attr("data-height");a=YT.isEmpty(a)?181:a;seajs.use("assets/js/plugin/swiper/swiper.min",function(){c.initSilde(f,e,h)})},initSilde:function(a,e,h){var f=[];a.find(".x-slider").each(function(a,b){var d={};d.img=$(b).attr("data-img");d.title=$(b).attr("data-title");d.click=$(b).attr("data-click");f.push(d)});var g=a.attr("data-title");h=!1;YT.isEmpty(g)||"show"!=g||(h=!0);g=a.attr("data-auto");
g=YT.isEmpty(g)?3E3:g;b||c.initTpl(h);a.html(YT.template(b,{LIST:f}));new Swiper(".ui-swiper-containe",{lazy:!0,autoplay:{delay:g,stopOnLastSlide:!1,disableOnInteraction:!0},on:{slideChange:function(){var b=a.data("change");e[b]&&e[b]()}}});a.on("click","[data-click]",function(){var a=$(this).data("click"),b=$(this).data("index");e[a]&&e[a](b)})},initTpl:function(d){var e=[];e.push('<div class="ui-swiper-containe">');e.push('\t<div <div class="swiper-wrapper ui-swiper-wrapper">');e.push("{@each LIST as item,index}");
e.push('\t\t<div class="swiper-slide" data-click="${item.click}" data-index="${index}" >');e.push('\t\t\t<img class="swiper-lazy" data-src="${item.img}" width="100%" height="'+a+'px" />');e.push('\t\t\t<div class="swiper-lazy-preloader" style="height:'+a+'px"><div class="swiper-lazy-preloader-loadding"></div></div>');d&&e.push('\t\t<div class="ui-swiper-title">${item.title}</div>');e.push("\t\t</div>");e.push("{@/each}");e.push("\t</div>");e.push("</div>");b=e.join("")}}})();
(function(){var b=YT.Sms={initSmsController:function(a,c,d){var e=a.find(".y-sms");if(!(1>e.length)){var h=e.find(".x-sms-send");if(1>h.length)YT.log.error("---YT.Sms---","not found 'x-sms-send' define");else{b.relem=a.find(".r-sms-send");var f=e.data("url")||"common/smsCodeSend",g=e.data("send-clazz"),k=e.data("callback");b.timer=b.counttime=e.data("timer")||60;b.openTimerListener(h,d,function(){if(YT.isEmpty(k)){var b=a.find(g);return YT.Form.validator(b)?YT.Form.getFormJson(b):!1}return c[k]()},
function(){YT.log.info("---sms.callback---")},f)}}},getSmsCode:function(a,b,d,e){var h=this;e=YT.dataUrl(e);YT.ajaxData(e,b,function(a){YT.hideWaitPanel();"1"==a.STATUS?(YT.showTips("短信已发送!"),h.relem&&0<h.relem.length&&(1>h.relem.data("flow-no-name")&&Fw.log.warn("---YT.Sms---","'r-send-sms' data-flow-no-name is not defined"),h.relem.find("input").val(a[h.relem.data("flow-no-name")||"SMS_FLOW_NO"])),d&&d()):YT.alertinfo(a.MSG)},function(a){YT.hideWaitPanel();YT.alertinfo(a?a.MSG:"网络失败，请稍后重试")})},
openTimerListener:function(a,b,d,e,h){void 0===b&&(b={});var f=this;a.on("click",function(){if(d){var e=d();if(!e)return;$.extend(b,e)}f._initTime=(new Date).getTime()-1E3;f._sumTime=f.counttime;f.getSmsCode(a,b,function(){f._startTimerListener(a)},h);f._startTimerListener(a)})},_startTimerListener:function(a){var b=this;if(0<b.timer){var d=b._getTimer();b.timer=b._sumTime-d;0<b.timer?(a.text(b.timer+"秒"),a.attr("disabled",!0),b.intervalID=setTimeout(function(){b._startTimerListener(a)},1E3)):b._closeTimerListener(a)}else b._closeTimerListener(a)},
_getTimer:function(){var a=(new Date).getTime();return Math.floor((a-this._initTime)/1E3)},_closeTimerListener:function(a){this.intervalID&&(clearTimeout(this.intervalID),a.removeAttr("disabled"),a.text("重新发送"),this.timer=this.counttime,this.intervalID=null)}}})();
(function(){var b=YT.Tab={initTab:function(a,c){var d=c.Panel,e=d.find(".y-tab");b.App=a;b.Page=c.Page;b.Json=c.Json;e.each(function(){var e=b.box=$(this),f=b.menu=e.find("[data-name=tab-ele]"),g=b.content=e.find("[data-name=tab-ele-content]"),k=b.slidedom=e.find(".r-tab-container");f.parent();g.parent().width();var m=void 0===e.find(".active")?e.find(".active"):f.eq(0);m.addClass("active");m.attr("data-ready","true");YT.loadPage(g.eq(m.index()),m.data("url"),{},function(){YT.Form.initPanel(b.Page,
b.App,b.Json);var d=m.data("callback");YT.isEmpty(d)||a[d]&&a[d](g.eq(m.index()))});m.attr("data-ready","false");f.on("click",function(){var d=$(this),e=d.index(),c=d.data("url"),h=d.data("callback"),f=m.attr("data-ready","true");c&&f&&(YT.loadPage(g.eq(e),c,{},function(){YT.Form.initPanel(b.Page,b.App,b.Json);YT.isEmpty(h)||a[h]&&a[h](g.eq(e))}),d.attr("data-ready","false"),b.slideEvent(d,e,g,k))});!c.Scroll&&("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(b.body=
d[0],b.body.addEventListener("touchstart",Fw.bind(b.start,this),!1))})},slideEvent:function(a,b,d,e){a.addClass("active").siblings().removeClass("active");a=$(window).width()*b*-1;e.animate({left:a})},start:function(a){a=a.targetTouches[0];b.startPos={x:a.pageX,y:a.pageY,time:+new Date};b.isScrolling=0;b.body.addEventListener("touchmove",Fw.bind(b.move,this),!1);b.body.addEventListener("touchend",Fw.bind(b.end,this),!1)},move:function(a){if(!(1<a.targetTouches.length||a.scale&&1!==a.scale)){var c=
a.targetTouches[0];b.endPos={x:c.pageX-b.startPos.x,y:c.pageY-b.startPos.y};b.isScrolling=Math.abs(b.endPos.x)<Math.abs(b.endPos.y)?1:0;0===b.isScrolling&&a.preventDefault()}},end:function(a){b.body.removeEventListener("touchmove",Fw.bind(b.move,this),!1);b.body.removeEventListener("touchend",Fw.bind(b.end,this),!1);a=+new Date-b.startPos.time;if(0===b.isScrolling&&100<Number(a)){var c=b.box.find(".active").index();if(!(YT.isEmpty(b.endPos)||YT.isEmpty(b.endPos.x)||(50<b.endPos.x?c-=1:-50>b.endPos.x&&
(c+=1),b.box.length<c||0>c))){a=b.menu.eq(c);var d=a.data("url"),e=a.data("callback"),h=b.box.find(".active").attr("data-ready","true");d&&h&&(YT.loadPage(b.content.eq(c),d,{},function(){YT.Form.initPanel(b.Page,b.App,b.Json);YT.isEmpty(e)||b.App[e]&&b.App[e](b.content.eq(c))}),a.attr("data-ready","false"),b.slideEvent(a,c,b.content,b.slidedom))}}},initTabFilter:function(a,c,d){var e=a.find(".y-select-change-tab");1>e.length||(b.initTabClick(e,a),b.initTabItemClick(e,a,c,d),b.initShandow(e))},initTabClick:function(a,
b){a.find(".y-select-change div").on("click","",function(d){d=$(this).data("index");if($(this).hasClass("makesoft1"))$(this).removeClass("makesoft1"),$(this).addClass("makesoft"),$(b).parent().css("height","initial"),$(b).css("height","initial"),a.find(".y-select-change-item[data-index='"+d+"']").hide(),a.find(".y-shandow").hide();else{var e=a.find(".y-select-change div[class='makesoft1']");e.removeClass("makesoft1");e.addClass("makesoft");e=e.data("index");a.find(".y-select-change-item[data-index='"+
e+"']").hide();$(b).parent().css("height","100%");$(b).css("height","100%");$(this).removeClass("makesoft");$(this).addClass("makesoft1");a.find(".y-shandow").show();a.find(".y-select-change-item[data-index='"+d+"']").stop().slideDown()}})},initTabItemClick:function(a,b,d,e){var h=a.data("change");a.find(".y-select-change-item div").on("click","",function(){$(this).siblings(".current").removeClass("current");$(this).addClass("current");var b=$(this).parent();b.hide();b.attr("data-value",$(this).data("value"));
b=b.data("index");b=a.find(".y-select-change div[data-index='"+b+"']");b.removeClass("makesoft1");b.addClass("makesoft");b.children("span:first-child").html($(this).html());a.find(".y-shandow").hide();h&&d&&d[h]&&d[h]()})},initShandow:function(a){a.find(".y-shandow").on("touchmove",function(a){a.preventDefault();a.stopPropagation()});a.find(".y-shandow").on("click",function(b){a.find(".y-select-change div").addClass("makesoft");a.find(".y-select-change div").removeClass("makesoft1");a.find(".y-shandow").hide();
a.find(".y-select-change-item").hide()});var b=$(window).height();a.find(".y-shandow").height(b)}}})();
$(function(){YT.log.debug("--init--","YT.Tips");var b={content:"",stayTime:1E3,type:"info",callback:function(){}};YT.Tips={showTips:function(a){a=YT.apply(b,a);var c=YT.template('<div class="ui-poptips ui-poptips-${type}"><div class="ui-poptips-cnt"><i></i>${content}</div></div>',a),d=$(c);d.appendTo("body");var e=d.height();d.css({"-webkit-transform":"translateY(-"+e+"px)"});setTimeout(function(){d.css({"-webkit-transition":"all .5s","-webkit-transform":"translateY(0)"})},20);0<a.stayTime&&setTimeout(function(){d.css({"-webkit-transform":"translateY(-"+
e+"px)"});setTimeout(function(){d.remove()},500)},a.stayTime)}};YT.log.debug("--end--","YT.Tips")});
$(function(){YT.log.debug("--init--","YT.Titlebar");var b=YT.Titlebar={divId:"web_titlebar",create:function(){YT.log.debug("---create--","YT.Titlebar");var a=document.createElement("div");a.id=this.divId;a=$(a);a.prependTo(document.body);this.div=a.html('<div class="web-title-warp">\t<h1 class="web-title"></h1>\t<span class="titlebar-left-btn"></span>\t<span class="titlebar-right-btn"></span></div><div class="web-searchbar-warp"></div>');this.titleEl=a.find(".web-title");this.btnLeft=a.find(".titlebar-left-btn");
this.btnRight=a.find(".titlebar-right-btn")},change:function(a){this.div.removeClass();"red"==a.theme?this.div.addClass("theme-red"):"alpha"==a.theme?this.div.addClass("theme-alpha"):this.div.addClass("theme-def");a.title&&this.titleEl.html(a.title);b._button(this.btnLeft,a.leftButton);b._button(this.btnRight,a.rightButton);this.div.find(".web-title-warp").show();this.div.find(".web-searchbar-warp").empty()},_button:function(a,b){b&&"true"==b.exist?("titlebar-right-btn"==a.attr("class")?a.show().html(b.name):
a.show(),a.attr("onclick",b.func)):a.hide()},changeTitle:function(a){if(!YT.isEmpty(a)&&YT.isObject(a)){var c=a.callback;a={val:a.defalutVal?a.defalutVal:"",placeholder:a.placeholder?a.placeholder:"请输入搜索内容"};$("#"+b.divId);a=YT.template('<div class="ui-searchbar ui-border-radius"><i class="ui-icon-search"></i><div class="ui-searchbar-input"><input value="${val}" data-name="SEARCH_NAME" type="text" placeholder="${placeholder}"></div></div>',a);this.div.find(".web-title-warp").hide();this.div.find(".web-searchbar-warp").html(a).show();
this.div.off("keydown",".web-searchbar-warp input");this.div.on("keydown",".web-searchbar-warp input",function(){var a=window.event;13==a.keyCode&&(c&&c($(this).val()),b.div.find(".web-searchbar-warp").empty(),b.div.find(".web-title-warp").show());27==a.keyCode&&(b.div.find(".web-searchbar-warp").empty(),b.div.find(".web-title-warp").show())})}}};b.create();YT.log.debug("--end--","YT.Titlebar")});
(function(){var b="",a=YT.Upload={init:function(b,d,e){a.initImgUploadTemp(b,d,e)},initImgUploadTemp:function(b,d,e){if(0==b.find(".y-upload-img").length)return!1;seajs.use("assets/js/plugin/jquery/ajaxfileupload.min.js",function(){a.initImgUpload(b,d,e)})},initImgUpload:function(b,d,e){var h=b.find(".y-upload-img");a.uploadImg=h;b=h.find(".ui-upload [type=file]");e=h.attr("data-maxNum");var f=h.attr("data-maxSize"),g=h.attr("data-compress"),k=h.attr("data-module"),f=YT.isEmpty(f)?1024:f;a.compress=
YT.isEmpty(g)?"":g;a.maxNum=YT.isEmpty(e)?3:e;a.curMaxNum=0;a.module=k;h.on("click",".ui-upload-close",function(){a.closeUpload($(this))});h.on("click","[data-event=fileUpload]",function(){a.fileUpload(d)});h.on("click","[data-event=filePreview]",function(){a.filePreview($(this))});b.on("change",function(){a.thatImg=$(this);var b=$(this)[0].files[0];0>["jpeg","png","gif","jpg"].indexOf(b.type.split("/")[1])?YT.showTips("文件类型仅支持 jpeg/jpg/png/gif！"):b.size>1024*f?YT.showTips("文件大小不能超过:"+f+"K"):(a.imgType=
b.type||"image/jpeg",a.buildLoading(b,h))})},fileUpload:function(b){var d=a.uploadImg.find(".img-upload[type=file]"),e=[];$.each(d,function(a,b){e[a]=$(b).attr("id")});d=a.uploadImg.attr("data-url");d=YT.isEmpty(d)?"file/upload":d;d=YT.dataUrl(d);$.ajaxFileUpload({url:d,secureuri:!1,dataType:"text",data:{module:a.module},fileElementId:e,success:function(d){YT.log.info("upload reponse :",d);try{var e=YT.JsonEval(d);if(e&&"1"==e.STATUS){var g=a.uploadImg.attr("data-callback");b[g]&&b[g](e)}else YT.alertinfo(e&&
e.MSG||"上传失败！","系统提示")}catch(k){YT.alertinfo("上传失败！","系统提示")}}})},buildLoading:function(c,d){var e=a.thatImg.parent().parent();b=YT.id();var h='<div class="ui-upload-item"><i class="ui-upload-close" data-id='+a.thatImg.attr("id")+'></i><div class="ui-upload"><div><i class="ui-upload-loding"></i><div class="ui-upload-text">加载中...</div></div></div></div>',h=$(h);e.before(h);a.loading=h;a.fileToDataUrl(c);a.curMaxNum++;a.judgePanel()},fileToDataUrl:function(c){var d=new FileReader;d.readAsDataURL(c);
d.onload=function(d){d=d.target.result;"compress"==a.compress&&a.compressHandler(d,function(d){a.loading.html('<i class="ui-upload-close" data-id="'+a.thatImg.attr("id")+'"></i><div class="ui-upload-info"><img data-id="'+b+'" data-event="filePreview" alt="" src="'+d+'"></div>');YT.log.info("图片加载成功!");d=a.thatImg.clone();d.attr("id",b);d.attr("name",b);d.attr("class","img-upload");a.loading.append(d);a.loading&&(a.loading=null);a.thatImg&&a.thatImg.val("")})};d.onerror=function(){a.loading&&a.loading.remove();
a.curMaxNum--;a.judgePanel();YT.log.info("图片加载失败!");a.loading=null}},compressHandler:function(b,d){var e=new window.Image;e.src=b;e.onload=function(){var b=document.createElement("canvas"),c=b.getContext("2d");b.width=e.width;b.height=e.height;c.drawImage(e,0,0,b.width,b.height);b=b.toDataURL(a.imgType,.2);d(b)}},closeUpload:function(b){b.parent().remove();a.abortHandler();a.curMaxNum--;b=$(b).attr("data-id");$("#"+b).parent().parent().show()},abortHandler:function(){a.reader&&(a.reader.abort(),YT.showTips("图片上传中断!"))},
judgePanel:function(){var b=a.uploadImg.find(".ui-upload-select");a.curMaxNum>=a.maxNum?b.hide():b.show();1<b.length&&a.thatImg.parent().parent().hide()},filePreview:function(b){var d=$("#mainBody");d.css("overflow","hidden");d.append(YT.template('<div class="ui-upload-preview" id="yt-upload-preview">\t<div class="ui-upload-preview-mask" data-event="preview-hide"></div>\t<div class="ui-upload-preview-img">\t\t<i class="close" data-id="${ID}" data-event="preview-del"></i>\t\t<img src="${SRC}">\t</div></div>',
{SRC:b.attr("src"),ID:b.attr("data-id")}));var e=$("#yt-upload-preview");e.on("click","[data-event=preview-hide]",function(){e.remove();d.css("overflow","auto")});e.on("click","[data-event=preview-del]",function(){var b=$(this).attr("data-id");$("#"+b).parent().remove();e.remove();a.curMaxNum--;a.judgePanel()})}}})();
(function(){$.postAjax={};YT.AjaxUtil={ajaxData:function(b){b.failure||(b.failure=b.success);var a=(new Date).format("yyyyMMddhhmmssS");b.params.REQ_TIME=a;(new YT.TransAjax).post(b)},onceAjaxData:function(b,a,c,d){var e=(new Date).getTime(),h=YT.apply({},a);if($.postAjax.lastRequest){if(5E3>e-$.postAjax.lastRequest.timestamp&&h&&JSON.stringify($.postAjax.lastRequest.params)===JSON.stringify(h)){YT.alertinfo("交易处理中，请勿重复提交！");return}$.postAjax.lastRequest.params=h;$.postAjax.lastRequest.timestamp=
e}else $.postAjax.lastRequest={params:h,timestamp:e};onceSuccess=function(e){e&&"1"===e.STATUS?(a.CHECK_TOKEN="Y",a.REPEAT_TOKEN=e.REPEAT_TOKEN,YT.ajaxData(b,a,c,d)):(YT.alertinfo("数据请求失败,请查询交易结果，不要重复提交数据！"),YT.hideWaitPanel())};e=YT.dataUrl("common/onceTokenGet");YT.ajaxData(e,"{}",onceSuccess,d)},ajaxText:function(b){return $.ajax({url:b,async:!1}).responseText},loadPage:function(b,a,c,d,e){a=YT.formatUrl(a);$.ajax({url:a,data:{},type:"get",cache:!1,success:function(a){a=YT.template(a,c);b.html(a);
b.removeClass("ui-prev-loading");e&&YT.Form.initPanel(b,e,c);d&&d(c)},error:function(){YT.showTips("加载模板失败!");d&&d(c)}})},getPage:function(b,a,c){b=YT.formatUrl(b);$.ajax({url:b,data:a,type:"get",cache:!1,success:function(a){c&&c(a)},error:function(){YT.showTips("加载模板失败!");c&&c("加载模板失败!")}})}}})();
(function(){var b,a,c;YT.log.debug("init","YT.Collection");var d=YT.Collection={init:function(){},initEvent:function(){var a=$("body");a.on("touchstart","[data-event]",d.btnTouchStart);a.on("touchmove","[data-event]",d.btnTouchMove);a.on("touchend","[data-event]",d.btnTouchEnd);a.on("touchstart","[data-name]",function(){var a=$(this);YT.log.debug("--click---"+a.data("name"))});a.on("focus","input,textarea",function(){var a=$(this);a.attr("data-curCollVal",a.val())});a.on("blur","input,textarea",function(){var a=
$(this),b=a.attr("data-curCollVal"),e=a.val();b!==e&&d.monitorData(a)})},monitorData:function(a){var b=a.data("name");a={mt:"3",oc:a.val(),aoc:a.attr("data-curCollVal")};d.setColl(a,b)},btnTouchStart:function(a){$(a.currentTarget);var b=window.location.href;d.moduleNo=b.substring(b.lastIndexOf("/")+1,b.indexOf(".html"));a=a.originalEvent;startPosX=a.touches[0].pageX;startPosY=a.touches[0].pageY},btnTouchMove:function(a){a=a.originalEvent;var b=a.touches[0].pageY;if(10<Math.abs(a.touches[0].pageX-
startPosX)||10<Math.abs(b-startPosY))isMove=!0},btnTouchEnd:function(a){if(!isMove){var b=$(a.currentTarget);a=b.data("event");var c="",g=b.attr("data-collectExt"),b=(b=b.attr("data-collectType"))?b:"3";YT.isEmpty(g)||(c=g);d.setColl({mt:b,ce:c},a)}isMove=!1},setColl:function(a,b){var d=YT.apply({},cData);YT.apply(d,a);curPath.substring(curPath.lastIndexOf("/")+1,curPath.indexOf(".html"));var c=new Date,k=c.format("yyyyMMddHHmmss");c.getTime();c=curPath.substring(curPath.indexOf("/")+1);c.substring(0,
c.indexOf("/"));d.en=b;d.pn=curPageName;d.ct=k;d.pp=curPath;d.st="";YT.log.info(d);YT.Client.setCollection(d)},changeTimeX:function(){c=(new Date).getTime()},indexModule:function(a){var d=new Date;a=a.substring(a.lastIndexOf("/")+1,a.indexOf(".html"));var c=b={};c.mid=a;c.mt=2;c.st=d.getTime();c.ct=d.format("yyyyMMddHHmmss");c.ldt=0;c.drt=0},changeModule:function(e){var c=new Date;if(a){var f=a;f.drt=c.getTime()-f.st;f.pid&&YT.Client.setCollection(f);a=null}f=b||{};f.drt=c.getTime()-f.st;YT.Client.setCollection(f);
e&&d.indexModule(e)},endInitModule:function(){d.changeTimeX();var a=b;a.ldt=c-a.st},changePage:function(d){var h=new Date;d=d.attr("data-page");if(a){var f=a;f.drt=h.getTime()-f.st;YT.Client.setCollection(f)}f=a={};f.mid=b.mid;f.pid=d;f.mt=2;f.st=h.getTime();f.ct=h.format("yyyyMMddHHmmss");f.ldt=f.st-c;f.drt=0},timeUrl:function(d,h){var f=new Date,g={};g.mid=b.mid;g.pid=a&&a.pid;g.url=d;g.rc=h;g.mt=7;g.st=c;g.ct=f.format("yyyyMMddHHmmss");g.ldt=f.getTime()-c;YT.Client.setCollection(g)}};YT.log.debug("init-end--")})();
(function(){function b(a,b){return b?a.filter("[data-gid='"+b+"']"):a}var a=YT.DateUtils={sysdate:function(a){var b=YT.dataUrl(YT.sysDateUrl||"app/sysdateQry",!0);YT.ajaxData(b,{},function(b){a&&a(b)},function(){var b=new Date,d=b.format("yyyy-MM-dd"),b=b.format("HH:MM:SS");a&&a({STATUS:"1",CUR_DATE:d,CUR_TIME:b})})},getDate:function(a,b){var e=b?new Date(b):new Date,h=e.getDate();e.setDate(h+(a?a:0));var h=e.getDate(),f=e.getMonth();return e.getYear()+1900+"-"+(10>f+1?"0"+(f+1):f+1)+"-"+(10>h?"0"+
h:h)},dateDiff:function(a,b){try{var e=a.replace(/-/g,"/"),h=b.replace(/-/g,"/");d1=new Date(e);d2=new Date(h);var f=d1.getTime()-d2.getTime();return parseInt(f/864E5)}catch(g){return YT.log.debug(g),0}},dateToWeek:function(a){return"星期天 星期一 星期二 星期三 星期四 星期五 星期六".split(" ")[(new Date(Date.parse(a.replace(/-/g,"/")))).getDay()]},initDateController:function(b,d,e){var h=b.find(".y-date");1>h.length||a.sysdate(function(e){var g=e&&(e.SYS_DATE||e.CUR_DATE);h.find("input[data-name]").each(function(){var a=
$(this).attr("data-format")||"yyyy-MM-dd",a=YT.Format.fmtDate(g,a);$(this).val(a)});e=h.find(".x-date-start");var k=h.find(".x-date-end");a.initQueryDateControll(e,k,g);a.initDateTab(b,d,g,e,k)})},initQueryDateControll:function(c,d,e){var h=YT.Form.resultCustomerValidator;c.on("validator",function(f,g){var k=$(g).data("gid"),m=$(g).val(),k=b(d,k).val(),p=a.getDate(0,e),m=m.replace(/-/g,""),s=k.replace(/-/g,""),p=p.replace(/-/g,""),n=a.getDate(-365,e).replace(/-/g,""),k=a.getDate(-90,k).replace(/-/g,
"");if(s<m)return h(c,!1,"开始日期不能大于结束日期"),!1;if(m<n)return h(c,!1,"只能查询一年内记录"),!1;if(m<k)return h(c,!1,"查询区间不能大于90天"),!1;if(s>p)return h(d,!1,"结束日期不能大于今天"),!1;h(c,!0);h(d,!0);return!0})},initDateTab:function(c,d,e,h,f){var g=c.find(".y-date-quick");if(!(1>g.length)){var k=g.data("change");g.on("click","label.ui-radio-s",function(c){var p=$(this).find("input.x-item");c=p.data("gid");g.find("li").removeClass("current");p.addClass("current");p=p.data("value");p=a.getDate(p,e);b(h,c).val(p);b(f,c).val(e);
k&&d&&d[k]&&d[k]()});g.find("li.current").trigger("click")}}}})();
(function(){var b=NS.MSG;YT.log.debug("--init--");var a=YT.Form={init:function(){},readyLock:function(a,b){return 0<a.find("[data-ready='false']").length},initInnerPanel:function(b,d,e){a.setFormJson(b,e);YT.DateUtils&&YT.DateUtils.initDateController(b,d,e);YT.Sms.initSmsController(b,d,e);YT.Input&&YT.Input.init(b,d,e);YT.Upload&&YT.Upload.init(b,d,e);YT.Tab&&YT.Tab.initTabFilter(b,d,e);YT.Checkbox&&YT.Checkbox.init(b,d,e);YT.Radiobox&&YT.Radiobox.init(b,d,e)},initPanel:function(b,d,e){a.initInnerPanel(b,
d,e);b.find("[data-extlib]").each(function(a,f){var g=$(this),k=g.attr("data-extlib"),m=NS.EXT_LIBS&&NS.EXT_LIBS[k]||null;YT.log.info("----init extlib-----",k,m);null!=m&&seajs.use(m,function(a){a.init(g,b,d,e)})})},resetPanel:function(b,d,e){b.find("[data-extlib]").each(function(h,f){var g=$(this);a.resetWidget(g,b,d,e)})},resetWidget:function(a,b,e,h){var f=a.attr("data-extlib"),g=NS.EXT_LIBS&&NS.EXT_LIBS[f]||null;YT.log.info("----init extlib-----",f,g);null!=g&&seajs.use(g,function(g){g.reset(a,
b,e,h)})},preInitPanel:function(a,b,e){},getFormJson:function(a,b){b=b||{};if(!a)return b;var e=[];a.find("[data-name]").each(function(){for(var a=$(this),c="",g="",c=a.attr("data-name"),g=0;g<e.length;g++)if(e[g]==c)return;e.push(c);var k=a.attr("data-type")||this.type;if("checkbox"==k){var m=[];a.find("input:checked").each(function(){m.push(this.value)});g=m.join(",")}else if("radiobox"==k)g=a.find("input[type=radio]:checked").val();else{g=a.attr("data-value")||a.val()||a.text()||"";"select"==k&&
(g=a.attr("data-value")||a.val()||"");a.is("select")&&(g=a.find("option:selected").val()||"");if("money"==k||"number"==k)g=g.replace(/,/g,"");g=g.replace(/ /g,"")}c&&g&&(b[c]=g)});YT.log.debug(JSON.stringify(b),"YT.Form.getFormJson");return b},setFormJson:function(a,b){b=b||{};"{}"!==YT.JsonToStr(b)&&a.find("[data-name]").each(function(){var e=$(this),h=e[0].tagName,f=e.attr("data-name")||e.name||"";if(f=b[f]){var g=e.data("type")||e[0].type||"";"INPUT"==h||"SELECT"==h||"TEXTAREA"==h?"radio"==g?a.find("[type=radio][value="+
f+"]").prop("checked","checked"):e.val(f):"checkbox"==g?(e=f.split(","),$.each(e,function(a,b){$("input:checkbox[value='"+b+"']").attr("checked","true")})):e.text(f)}})},validAgree:function(c,d){if(!c.prop("checked")){var e=a.msgjoin(b.MsgCheck,[d]);YT.showTips(e);return!1}return!0},validator:function(b){var d=!0;b.find("[data-name]").each(function(){var b=$(this);if(!0===b.is(":hidden"))return!0;var c=b.attr("data-name");if(c){YT.log.debug("valid elem :"+c,"YT.Form");var f=this.value||b.attr("data-value")||
this.innerHTML,g=b.attr("data-type")||this.type||"";"select"==g&&(f=this.value||b.attr("data-value"));b.is("select")&&(f=b.find("option:selected").val());"checkbox"!=g&&"radiobox"==g&&(f=b.find('input[type="radio"][name="'+c+'"][checked]').val());if(!a.validatorElement(b,c,g,f,!0))return d=!1}});return d},validatorElement:function(c,d,e,h,f){function g(b,d){var e=a.msgjoin(b,d);a.showPinLabel(c,e,f)}var k,m;k=c.attr("data-required");m=c.attr("data-label")||d;k="true"==k||"required"==k;if("protocol"==
e)return e=c.find('input[type=checkbox][name="'+d+'"]'),a.validAgree(e,m);if("checkbox"==e)return e=!1,e="checkbox"==c.attr("type")?c.prop("checked"):c.find("input[type=checkbox]").prop("checked"),!e&&k?(g(b.MsgSelect,[m]),!1):!0;if(c.is("select")||"select"==e)return 0==(h?h:"").trim().length&&k?(g(b.MsgSelect,[m]),!1):!0;h=h?h:"";if(0==h.trim().length)return k?(g(b.MsgMustInput,[m]),!1):!0;if("money"==e||"number"==e)h=h.replace(/,/g,"");h=h.replace(/\s+/g,"");d=/\'|\"|,|=|:|\{|\}|\[|\]$/;"db"==c.attr("data-json")&&
(d=/\'|\"/);if(d.exec(h))return g(b.MsgStr,[m]),!1;if((d=c.attr("data-len"))&&h.length!=1*d)return g(b.MsgLength,[m,d]),!1;if((d=c.attr("data-min")||null)&&1*d>1*h)return g(b.MsgMinValue,[m,d]),!1;if((d=c.attr("data-max")||null)&&1*d<1*h)return g(b.MsgMaxValue,[m,d]),!1;if(("number"==e||"money"==e)&&isNaN(h))return g(b.MsgNumber,[m]),!1;d=NS.PATTERN[e];if(!YT.isEmpty(d)&&!d.test(h))return e=b["Msg_"+e],YT.log.info(e),e=YT.isEmpty(e)?b.MsgFormat:e,g(e,[m]),!1;if("money"==e&&0>=h)return g(b.MsgMoney,
[m]),!1;if("certNo"==e&&!a.IdCardValidate(h)||"orgNo"==e&&a.orgcodevalidate(h)||"unitcode"==e&&(10<h.length||9>h.length))return g(b.MsgFormat,[m]),!1;try{if(c.trigger("validator",c),"false"==c.attr("data-check"))return!1}catch(p){}return!0},showPinLabel:function(a,b,e){YT.showTips(b);e&&a.focus()},msgjoin:function(a,b){YT.log.debug("Form.msgjoin:"+a,"YT.Form");return a.replace(/\{(\d+)\}/g,function(a,c){return 0==c?"'"+b[0]+"'":b[c]})},resultCustomerValidator:function(b,d,e){!d&&e?(b.attr("data-check",
"false"),a.showPinLabel(b,e,focus)):b.attr("data-check","true")},IdCardValidate:function(b){b=b.replace(/ /g,"");if(15==b.length)return a.isValidityBrithBy15IdCard(b);if(18==b.length){var d=b.split("");return a.isValidityBrithBy18IdCard(b)&&a.isTrueValidateCodeBy18IdCard(d)?!0:!1}return!1},isTrueValidateCodeBy18IdCard:function(a){var b=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],e=0;"x"==a[17].toLowerCase()&&(a[17]=10);for(var h=0;17>h;h++)e+=b[h]*a[h];valCodePosition=e%11;return a[17]==[1,0,10,9,8,7,
6,5,4,3,2][valCodePosition]?!0:!1},isValidityBrithBy18IdCard:function(a){var b=a.substring(6,10),e=a.substring(10,12);a=a.substring(12,14);var h=new Date(b,parseFloat(e)-1,parseFloat(a));return h.getFullYear()!=parseFloat(b)||h.getMonth()!=parseFloat(e)-1||h.getDate()!=parseFloat(a)?!1:!0},isValidityBrithBy15IdCard:function(a){var b=a.substring(6,8),e=a.substring(8,10);a=a.substring(10,12);var h=new Date(b,parseFloat(e)-1,parseFloat(a));return h.getYear()!=parseFloat(b)||h.getMonth()!=parseFloat(e)-
1||h.getDate()!=parseFloat(a)?!1:!0},orgcodevalidate:function(a){if(""!=a){a=a.split("-");var b=[3,7,9,10,5,8,4,2];if(!/^([0-9A-Z]){8}$/.test(a[0]))return!0;for(var e=0,h=0;8>h;h++)e+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(a[0].charAt(h))*b[h];b=11-e%11;a=a[1]+"";return a!=(11==b?"0":10==b?"X":b+"")}}};a.init();YT.log.debug("--end--","YT.Form")})();
(function(){var b=YT.Format={listIndex:function(a){return 1*a+1},fmtNsType:function(a,b){return NS[b]&&NS[b][a]||a},fmtAcctNo:function(a,c){if(YT.isEmpty(a))return"";a=b.removeSpace(a);var d="";if(c){var e=a.length-4;4>e&&(e=4);d=d+a.substring(0,4)+" **** **** "+a.substring(e,a.length)}else{for(;4<a.length;)d+=a.substring(0,4),d+=" ",a=a.substring(4,a.length);d+=a}return d},fmtAcctStop4:function(a){return YT.isEmpty(a)?"":a.substring(a.length-4,a.length)},fmtAccInput:function(a){a.on("keyup",function(){var b=
a.val();a.val(b.replace(/\s/g,"").replace(/(\d{4})(?=\d)/g,"$1 "))})},fmtPhoneNo:function(a){if(YT.isEmpty(a))return"";a=b.removeSpace(a);var c=a.length-4;4>c&&(c=4);return a=""+a.substring(0,3)+" **** "+a.substring(c,a.length)},fmtIdNo:function(a){if(YT.isEmpty(a))return"";a=b.removeSpace(a);var c=a.length-2;2>c&&(c=2);return a=""+a.substring(0,2)+" **** **** "+a.substring(c,a.length)},fmtCustName:function(a){if(YT.isEmpty(a))return"";a=b.removeSpace(a);var c="";return c="*"+a.substring(1,a.length)},
removeSpace:function(a){return YT.isEmpty(a)?"":a.replace(/\s/g,"")},fmtDate:function(a,b){if(YT.isEmpty(a))return"";YT.isDate(a)||(a=new Date(a));return a.format(b||"yyyy年MM月dd日")},fmtMoney:function(a,b,d,e){a=(a+"").replace(/,/g,"");a*=1;var h=0>a?"-":"";b=b||2;a=a.toFixed(b);b=Math.abs(b)+1?b:2;d=d||".";e=e||",";a=/(\d+)(?:(\.\d+)|)/.exec(a+"");var f=3<a[1].length?a[1].length%3:0;return h+(f?a[1].substr(0,f)+e:"")+a[1].substr(f).replace(/(\d{3})(?=\d)/g,"$1"+e)+(b?d+(+a[2]||0).toFixed(b).substr(2):
"")},fmtAmt:function(a){try{return b.fmtMoney(a,2,".",",")}catch(c){return"0.00"}},fmtNum:function(a){return""==a?"0":a},fmtDistance:function(a){if(""==a)return a;a=parseInt(100*a/100);s1=a+"";return 4<s1.length||4==s1.length?(s1/1E3).toFixed(1)+"km":s1+"m"},fmtAmt4s:function(a){try{return b.fmtMoney(1*a,4,".",",")}catch(c){return"0.0000"}},delFmtMony:function(a){a=a.trim()+"";-1!=a.indexOf(".")&&(a=a.substr(0,a.indexOf(".")+3));return a.replace(/,/g,"")},unfmtAmt:function(a){return YT.isEmpty(a)?
"":a.replace(/,/g,"")},fmtAddPercent:function(a){a=Math.floor(100*a)/100;a=a.toFixed(2);return a+"%"},fmtNumber2Chinese:function(a){a=a.replace(/,/g,"");try{a=parseFloat(a),0==a&&(a="")}catch(b){}if(!/^\d*(\.\d*)?$/.test(a))throw Error(-1,"Number is wrong!");var d="零壹贰叁肆伍陆柒捌玖".split(""),e=" 拾 佰 仟 萬 億 圆 ".split(" "),h=["角","分","厘"];a=(""+a).replace(/(^0*)/g,"").split(".");for(var f=0,g="",k=a[0].length-1;0<=k;k--){switch(f){case 0:g=e[7]+g;break;case 4:(new RegExp("0{4}\\d{"+(a[0].length-k-1)+"}$")).test(a[0])||
(g=e[4]+g);break;case 8:g=e[5]+g,e[7]=e[5],f=0}2==f%4&&"0"==a[0].charAt(k)&&"0"!=a[0].charAt(k+2)&&(g=d[0]+g);0!=a[0].charAt(k)&&(g=d[a[0].charAt(k)]+e[f%4]+g);f++}if(1<a.length){g=YT.isEmpty(a[0])?"零圆":g+e[6];if(YT.isEmpty(a[0])&&"0"==a[1].charAt(0)&&"0"==a[1].charAt(1)&&"0"==a[1].charAt(2))return"零元整";if("0"==a[1].charAt(0)&&"0"==a[1].charAt(1)&&"0"==a[1].charAt(2))return g+"元整";for(k=0;k<a[1].length&&(g+=d[a[1].charAt(k)]+h[k],2!=k);k++);}else g+="元整";YT.isEmpty(a[0])&&YT.isEmpty(a[1])&&(g="零元整");
return g},fmtImgUrl:function(a){if(YT.isEmpty(a))return"";a=0==a.indexOf("/")?a:"/"+a;return basePath+a},fmtListCovert:function(a,b){if(a&&b)for(var d=b.split(/,|\||，/),e=0;e<a.length;e++)for(var h=a[e],f=0;f<d.length;f++){var g=d[f].split("=");2==g.length&&(h[g[0]]=h[g[1]])}return a}};YT.each(b,function(a,b){YT.isFunction(b)&&juicer.register(a,b)});Date.prototype.format=function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),
"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var d in b)(new RegExp("("+d+")")).test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[d]:("00"+b[d]).substr((""+b[d]).length)));return a}})();
$(function(){YT.log.debug("---init--","YT.Input");var b=YT.Input={init:function(a,c,d){b.initMoneyController(a,c,d);b.initAcctNo(a,c,d);b.initSwitch(a,c,d);b.initSelect(a,c,d);b.initSelectParams(a,c,d);b.initSelectWeek(a,c,d);b.initPhoneBook(a,c,d);b.initSms(a,c,d);b.callPhone(a,c,d);b.initAgreement(a,c,d)},initAgreement:function(a,b,d){var e=a.find(".Agreemens");1>e.length||(YT.log.info("agreemen ele ",e.length),e.on("click",function(){var a=e.attr("data-url");YT.nextPage(a)}))},initMoneyController:function(a,
b,d){var e=a.find("[data-type='money']");if(!(1>e.length)){YT.log.info("money ele ",e.length);var h=a.find("[data-zh='r-amt-zh']"),f=e.data("change");e.on("input",function(){var a=YT.Format.unfmtAmt(e.val());YT.isEmpty(a)||YT.isEmpty(a.trim())?h.text(""):(a=YT.Format.fmtNumber2Chinese(a),h&&h.text(a),f&&b&&b[f]&&b[f]())})}},initAcctNo:function(a,b,d){a.find("input[data-type$='acct'],input[data-type^='acct']").on("input",function(){var a=this.value.replace(/^\D*$/g,""),a=YT.Format.fmtAcctNo(a,!1);
$(this).val(a)})},initSwitch:function(a,b,d){function e(){h.prop("checked")?f.removeClass(g):f.addClass(g)}var h=a.find("[data-type='switch']");if(!(1>h.length)){var f,g;b=h.attr("data-handle");YT.isEmpty(b)?(f=a.find('[data-handle="r-switch"]'),g=f.attr("data-toggle")):(f=a.find("."+b),g=h.attr("data-toggle"));1>f.length||(h.on("click",function(){e()}),e())}},initSelect:function(a,b,d){var e=a.find(".y-select-edit");if(!(1>e.length||(b=e.find(".x-picker"),1>b.length))){var h=b.find("select");if(!(1>
h.length)){var f=b.attr("data-value"),f=YT.isEmpty(f)?"VALUE":f;b=b.attr("data-url");if(YT.isEmpty(b))h.on("change",function(){var b=$(this).find("option:checked").text();a.find(".y-select-edit input").val(b)});else b=YT.dataUrl(b),e.attr("data-ready","false"),YT.ajaxData(b,{},function(b){if("1"==b.STATUS){b=b.LIST;var d=[];d.push({});$.each(b,function(a,b){d.push({VALUE:b[f]})});b=YT.template("{@each LIST as item,index}<option>${item.VALUE}</option>{@/each}",{LIST:d});h.html(b);e.attr("data-ready",
"true")}else YT.hideWaitPanel(),YT.alertinfo(b.MSG);h.on("change",function(){var b=$(this).find("option:checked").text();a.find(".y-select-edit input").val(b)})})}}},initSelectParams:function(a,b,d){var e=a.find(".y-select-params");if(!(1>e.length)){var h=e.find("select");if(!(1>h.length)){var f=e.attr("data-key"),f=YT.isEmpty(f)?"KEY":f,g=e.attr("data-value"),g=YT.isEmpty(g)?"VLAUE":g;a=e.attr("data-url");a=YT.isEmpty(a)?"core/cert":a;a=YT.dataUrl(a);e.attr("data-ready","false");YT.ajaxData(a,{},
function(a){function d(){var a=e.data("callback");if(!YT.isEmpty(a)){var g=h.val();b[a]&&b[a](g,h)}}if("1"==a.STATUS){var p=[];$.each(a.LIST,function(a,b){p.push({KEY:b[f],VALUE:b[g]})});a=YT.template('{@each LIST as item,index}<option value="${item.KEY}">${item.VALUE}</option>{@/each}',{LIST:p});h.html(a);d();e.attr("data-ready","true")}else YT.hideWaitPanel(),YT.alertinfo(a.MSG);h.on("change",function(){d()})})}}},initSelectWeek:function(a,b,d){a=a.find(".y-date-week");1>a.length||(a=a.find("select"),
1>a.length||(b=YT.template('{@each LIST as item,index}<option value="${item.ID}">${item.WEEK}</option>{@/each}',{LIST:[{ID:"1",WEEK:"星期一"},{ID:"2",WEEK:"星期二"},{ID:"3",WEEK:"星期三"},{ID:"4",WEEK:"星期四"},{ID:"5",WEEK:"星期五"},{ID:"6",WEEK:"星期六"},{ID:"7",WEEK:"星期日"}]}),a.html(b)))},initPhoneBook:function(a,b,d){b=a.find(".y-phone-book");if(!(1>b.length))b.on("click",function(){YT.openPhoneBook(function(b){a.find(".x-phone-book").val(b.phoneNumber.replace(/ /ig,""))})})},initSms:function(a,b,d){b=a.find(".y-sms-mess");
if(!(1>b.length))b.on("click",function(){var b=a.find(".x-sms-mess").val();YT.isEmpty(b)?YT.showTips("请输入手机号码！"):YT.sendSms(b)})},callPhone:function(a,b,d){b=a.find(".y-call-phone");if(!(1>b.length))b.on("click",function(){var b=a.find(".x-call-phone").val();YT.isEmpty(b)?YT.showTips("请输入手机号码！"):YT.callPhone(b)})}};YT.log.debug("---end--","YT.Input")});
(function(){var b=[],a=[],c="",d="",e=$("#mainBody"),h=$(".navbar-pages"),f=$(".ui-view-overlay"),g=$(".ui-view-left"),k=$(".ui-view-right"),m,p=!1,s=0,n=YT.NavUtil={idSeed:1E4,getId:function(){return"yt_pid_"+ ++n.idSeed},init:function(){n.initEvent()},initEvent:function(){f&&f.on("click",n.closeBtnMenu)},loadIndexPage:function(a,b){s=650>W_HEIGHT?650:W_HEIGHT;m=$("#loaddingPage");var d=$('<div data-page="index" class="page-view page-transform page-on-center"></div>');h.append(d);c=a;YT.Collection.indexModule(a);
this.loadPage(a,function(e){d.html(e);d.attr("data-page",a);b&&b()},function(){b&&b()})},gotoIndex:function(){YT.log.info("返回首页");h.find(".page-view:not(.page-on-center)").remove();var d={pid:n.getId(),url:c};a=[];b=[];a.push(d);n.prevPage()},nextPage:function(c){if(p)return!1;n.closeBtnMenu();p=!0;if(d==c)return p=!1;YT.AuthBox&&YT.AuthBox.hideAuthPanel();n.removeHistoryPage(c);YT.openWaitPanel();YT.Collection.changeModule(c);this.loadPage(c,function(g){var f=$(window).scrollTop();d=c;m.show();if(3<=
b.length){YT.log.info("超过历史页面保存长度");var k=b.shift().pid;h.find("[data-pid="+k+"]").remove()}scroll(0,0);$("body,html").css({height:s+"px"});var q=h.find(".page-on-center");e.addClass("page-transform");q.addClass("page-transform");h.find(".page-on-left").removeClass("page-on-left").addClass("page-on-history");var k=n.getId(),r=q.attr("data-page");q.attr("data-pid",k);q.addClass("page-on-left page-center-to-left").removeClass("page-on-center");var t=$("<div data-page='"+c+"' class='page-view page-transform page-on-center'></div>");
h.append(t);t.html(g).addClass("page-right-to-center");g={pid:k,url:r,top:f};b.push(g);a.push(g);setTimeout(function(){q.removeClass("page-center-to-left");t.removeClass("page-right-to-center");t.removeClass("page-transform");e.removeClass("page-transform");$("body,html").css({height:"auto",overflow:"auto"});p=!1},400);YT.hideWaitPanel();m.hide()},function(){YT.hideWaitPanel();m.hide();YT.alertinfo("请求页面不存在！");p=!1})},prevPage:function(c){if(p)return!1;n.closeBtnMenu();p=!0;if(0==a.length)p=!1,YT.gotoClientBack();
else{if(YT.isEmpty(c)||!0!==c)c=!1;YT.AuthBox&&YT.AuthBox.hideAuthPanel();var g=a.pop();b.pop();var f=g.pid,k=g.url;d=k;if(0<h.find("[data-pid="+f+"]").length){YT.log.info("存在历史页面");$("body,html").css({height:s+"px"});var q=h.find(".page-on-left"),r=h.find(".page-on-center");e.addClass("page-transform");r.addClass("page-transform");q.addClass("page-left-to-center page-on-center").removeClass("page-on-left");r.addClass("page-center-to-right").removeClass("page-on-center");h.find(".page-on-history:last").addClass("page-on-left").removeClass("page-on-history");
scroll(0,0);setTimeout(function(){q.removeClass("page-left-to-center");q.removeClass("page-transform");e.removeClass("page-transform");$("body,html").css({height:"auto"});r.remove();p=!1;YT.Collection.setDatas();!0===c&&n.refreshPage()},400);YT.hideWaitPanel();n.reloadPageTitle();return!1}YT.log.info("历史页面中不存在----重新加载历史页面");YT.openWaitPanel();this.loadPage(k,function(a){YT.hideWaitPanel();m.show();var b=$("<div data-page='"+k+"' class='page-view page-transform page-on-left'></div>");h.prepend(b);
$("body,html").css({height:s+"px"});var d=h.find(".page-on-center");d.addClass("page-transform");e.addClass("page-transform");b.addClass("page-left-to-center page-on-center").removeClass("page-on-left");d.addClass("page-center-to-right").removeClass("page-on-center");b.html(a);scroll(0,0);setTimeout(function(){b.removeClass("page-left-to-center");b.removeClass("page-transform");e.removeClass("page-transform");$("body,html").css({height:"auto"});d.remove();p=!1;YT.Collection.setDatas()},400)},function(){p=
!1})}},refreshPage:function(){var a=YT.isEmpty(d)?c:d;if(YT.isEmpty(a))return YT.gotoClientBack(),!1;YT.Collection.changeModule(a);var b=h.find(".page-on-center");YT.openWaitPanel();n.loadPage(a,function(a){YT.hideWaitPanel();b.html(a);YT.Collection.endInitModule()})},removeHistoryPage:function(d){var e=[],c=[];$.each(a,function(a,b){var c=b.url,g=b.pid;d!=c&&0>c.indexOf(d)?e.push(b):h.find("[data-pid="+g+"]").remove()});$.each(b,function(a,b){var e=b.url;d!=e&&0>e.indexOf(d)&&c.push(b)});a=e;b=c},
openLeftMenu:function(){n.closeRightBtnMenu();f&&f.show();g&&g.show();setTimeout(function(){g.addClass("active")},100)},openRightMenu:function(){n.closeLeftBtnMenu();f&&f.show();k&&k.show();e&&e.addClass("ui-right-reveal");n.timeRight&&clearTimeout(n.timeRight);n.timeRight=setTimeout(function(){k.addClass("active")},400)},closeBtnMenu:function(){n.closeLeftBtnMenu();n.closeRightBtnMenu()},closeLeftBtnMenu:function(){f&&f.hide();e&&e.removeClass("ui-right-reveal");g.addClass("close-view-left");n.timeLeftClose&&
clearTimeout(n.timeLeftClose);n.timeLeftClose=setTimeout(function(){g.removeClass("active close-view-left").hide()},400)},closeRightBtnMenu:function(){f&&f.hide();k&&k.removeClass("active");e&&e.removeClass("ui-right-reveal");n.timeRightClose&&clearTimeout(n.timeRightClose);n.timeRightClose=setTimeout(function(){k.hide()},400)},reloadPageTitle:function(){var a=h.find(".page-on-center").find(".page.current");YT.initPageTitle(a)},showPageArea:function(a,b,d){$("#loaddingPage").hide();if(b){var e=$(window).scrollTop();
YT.each(b,function(a){a.find("input,textarea").each(function(a,b){$(b).is(":focus")&&$(b).blur()});!1===a.is(":hidden")&&a.attr("data-pageTop",e);a.removeClass("current")})}a.addClass("current");e=(e=a.attr("data-pageTop"))||0;$("html, body").animate({scrollTop:e},100);!0===d&&YT.initPageTitle(a);d&&YT.Collection.changePage(a)},loadPage:function(a,b,d){a=YT.formatUrl(a);var e=$.ajax({url:a,data:{},type:"get",success:b,timeout:8E3,error:function(a){d&&d()},complete:function(a,b){"timeout"==b?e.abort():
"0"==b?YT.alertinfo("网络连接异常!请检查您的网络"):"404"==b&&YT.alertinfo("请求页面不存在！")}})}};n.init()})();
(function(){YT.NumberUtils={add:function(b,a){var c=0,d=0,e=1;try{c=b.toString().split(".")[1].length}catch(h){}try{d=a.toString().split(".")[1].length}catch(f){}return e=Math.pow(10,Math.max(c,d)),(Fw.mul(b,e)+Fw.mul(a,e))/e},sub:function(b,a){var c=0,d=0,e=1;try{c=b.toString().split(".")[1].length}catch(h){}try{d=a.toString().split(".")[1].length}catch(f){}return e=Math.pow(10,Math.max(c,d)),(Fw.mul(b,e)-Fw.mul(a,e))/e},mul:function(b,a){var c=0,d=b.toString(),e=a.toString();try{c+=d.split(".")[1].length}catch(h){}try{c+=
e.split(".")[1].length}catch(f){}return Number(d.replace(".",""))*Number(e.replace(".",""))/Math.pow(10,c)},div:function(b,a){var c=1,d=1,e=0,h=0;try{e=b.toString().split(".")[1].length}catch(f){}try{h=a.toString().split(".")[1].length}catch(g){}return c=Number(b.toString().replace(".","")),d=Number(a.toString().replace(".","")),Fw.mul(c/d,Math.pow(10,h-e))}}})();
(function(){function b(a,b,c){return function(){b.target==arguments[0]&&a.apply(c,Array.prototype.slice.call(arguments,0))}}function a(a,b,c,f){return function(){b.removeListener(c,f);return a.apply(f,arguments)}}function c(a,b,c,f){return function(){var g=new YT.util.DelayedTask;c.tasks||(c.tasks=[]);c.tasks.push(g);g.delay(b.delay||10,a,f,Array.prototype.slice.call(arguments,0))}}YT.util.Observable=function(){this.events||(this.events={});this.listeners&&(this.on(this.listeners),delete this.listeners)};
YT.override(YT.util.Observable,{filterOptRe:/^(?:scope|delay|single)$/,fireEvent:function(){var a=Array.prototype.slice.call(arguments,0),b=a[0].toLowerCase(),c=!0,f=this.events[b],g;if(!0===this.eventsSuspended)(g=this.eventQueue)&&g.push(a);else if("object"==typeof f)if(f.bubble){if(!1===f.fire.apply(f,a.slice(1)))return!1;if((f=this.getBubbleTarget&&this.getBubbleTarget())&&f.enableBubble)return(c=f.events[b])&&"object"==typeof c&&c.bubble||f.enableBubble(b),f.fireEvent.apply(f,a)}else a.shift(),
c=f.fire.apply(f,a);return c},on:function(a,b,c,f){var g;if("object"==typeof a)for(g in f=a,f){if(a=f[g],!this.filterOptRe.test(g))this.on(g,a.fn||a,a.scope||f.scope,a.fn?a:f)}else a=a.toLowerCase(),g=this.events[a]||!0,"boolean"==typeof g&&(this.events[a]=g=new YT.util.Event(this,a)),g.addListener(b,c,"object"==typeof f?f:{})},un:function(a,b,c){a=this.events[a.toLowerCase()];"object"==typeof a&&a.removeListener(b,c)}});YT.util.Event=function(a,b){this.name=b;this.obj=a;this.listeners=[]};YT.override(YT.util.Event,
{addListener:function(a,b,c){b=b||this.obj;this.isListening(a,b)||(a=this.createListener(a,b,c),this.firing&&(this.listeners=this.listeners.slice(0)),this.listeners.push(a))},createListener:function(d,e,h){h=h||{};e=e||this.obj;var f={fn:d,scope:e,options:h},g=d;h.target&&(g=b(g,h,e));h.delay&&(g=c(g,h,f,e));h.single&&(g=a(g,this,d,e));f.fireFn=g;return f},findListener:function(a,b){var c=this.listeners,f=c.length,g;for(b=b||this.obj;f--;)if((g=c[f])&&g.fn==a&&g.scope==b)return f;return-1},isListening:function(a,
b){return-1!=this.findListener(a,b)},removeListener:function(a,b){var c,f,g;f=!1;if(-1!=(c=this.findListener(a,b))){this.firing&&(this.listeners=this.listeners.slice(0));f=this.listeners[c];f.task&&(f.task.cancel(),delete f.task);if(g=f.tasks&&f.tasks.length){for(;g--;)f.tasks[g].cancel();delete f.tasks}this.listeners.splice(c,1);f=!0}return f},clearListeners:function(){for(var a=me.listeners,b=a.length;b--;)this.removeListener(a[b].fn,a[b].scope)},fire:function(){var a=this.listeners,b=a.length,
c=0,f;if(0<b){this.firing=!0;for(var g=Array.prototype.slice.call(arguments,0);c<b;c++)if((f=a[c])&&!1===f.fireFn.apply(f.scope||this.obj||window,g))return this.firing=!1}this.firing=!1;return!0}})})();
(function(){YT.Session={getSession:function(b){try{var a=YT.JsonEval(sessionStorage.getItem("loginsession"));if(YT.isEmpty(a)){var c=YT.dataUrl("common/querySessionInfo");YT.ajaxData(c,{},function(a){a&&"1"==a.STATUS?(sessionStorage.setItem("loginsession",JSON.stringify(a)),b(a)):(YT.alertinfo(a.MSG,"获取用户登录信息异常"),YT.hideWaitPanel())},function(){YT.alertinfo("获取用户登录信息异常")})}else b(a)}catch(d){YT.log.debug(d)}}}})();
$(function(){function b(a){return a&&3==a.length?{exist:a[0],name:a[1],func:a[2]}:{exist:!1}}var a=window,c={};(function(){$(document).on("click","#_authBox .sixDigitPassword i",function(){$(this).parent().prev().focus()});$(document).on("keyup","#DRAW_TPWD,#DRAW_CPWD",function(a){var b=$(this).next().find("i");curIndex=0;a=a?a:window.event;if(8==a.keyCode||48<=a.keyCode&&57>=a.keyCode||96<=a.keyCode&&105>=a.keyCode)for(curIndex=this.value.length-1,l=b.size();l--;)b.eq(l).find("b").css("visibility",
"visible"),l>curIndex&&b.eq(l).find("b").css("visibility","hidden");else this.value=this.value.replace(/\D/g,"")})})();YT.Client={isWeb:!0,initPageTitle:function(a){var e=$(a);a={title:e.attr("title")};var c=e.attr("data-btnLeft").split("|");a.leftButton=b(c);c=e.attr("data-btnRight").split("|");a.rightButton=b(c);e=e.data("theme");a.theme=e;YT.Titlebar.change(a)},titleSearchBar:function(a){YT.Titlebar.changeTitle(a)},alertinfo:function(a,b,c,f){(c=YT.getFunctionName(c))&&")"!=c.substr(c.length-1)&&
(c+="()");b=b||"温馨提示";f=f||"确定";YT.MsgBox.hideMsgBox();YT.MsgBox.alertinfo(a,b,function(){c&&(")"!=c.substr(c.length-1)&&(c+="()"),eval("("+c+")"));YT.MsgBox.hideMsgBox()},f)},confirm:function(a,b,c,f,g,k){(c=YT.getFunctionName(c))&&")"!=c.substr(c.length-1)&&(c+="()");(f=YT.getFunctionName(f))&&")"!=f.substr(f.length-1)&&(f+="()");b=b||"温馨提示";g=g||"确定";k=k||"取消";YT.MsgBox.hideMsgBox();YT.MsgBox.confirm(a,b,function(){YT.MsgBox.hideMsgBox();c&&eval("("+c+")")},function(){f&&eval("("+f+")");YT.MsgBox.hideMsgBox()},
g,k)},openWaitPanel:function(a){YT.Layer.openWaitPanel(a||"正在加载中。。。")},hideWaitPanel:function(a){YT.Layer.hideWaitPanel(a?a:100)},showMoneyPicker:function(a,b){"true"!=a.attr("data-init")&&a.attr("data-init","true").off("click").removeAttr("readonly").focus()},showTPwdPicker:function(a,b){"true"!=a.attr("data-init")&&a.attr("data-init","true").off("click").removeAttr("readonly").focus()},showDatePicker:function(a){try{var b={text:a.val()||(new Date).format("yyyy-MM-dd"),format:a.attr("data-format")||
"yyyy-MM-dd",min:"1900-01-01",max:"2099-12-31",callback:"_saveDate"},h=a.attr("data-min"),f=a.attr("data-max"),g=a.attr("data-startId"),k=a.attr("data-endId");g&&$("#"+g).val()?b.min=$("#"+g).val():h&&(b.min=h);k&&$("#"+k).val()?b.max=$("#"+k).val():f&&(b.max=f);this._initDateWidget(a,b);c.datePick=YT.apply({ele:a},b)}catch(m){YT.alertinfo("显示日期键盘","showDatePicker="+m)}},showNumPicker:function(a,b){"true"!=a.attr("data-init")&&a.attr("data-init","true").off("click").removeAttr("readonly").focus()},
showIDCPicker:function(a,b){"true"!=a.attr("data-init")&&a.attr("data-init","true").off("click").removeAttr("readonly").focus()},showLPwdPicker:function(a,b){"true"!=a.attr("data-init")&&a.attr("data-init","true").off("click").removeAttr("readonly").focus()},showKeyBoard:function(a){YT._preShowKeyBoard(a)},resetLoginSession:function(a,b){try{sessionStorage.setItem("loginsession",JSON.stringify(a)),b&&b(a)}catch(c){YT.alertinfo("重置登录用户信息异常","resetLoginSession:"+c)}},getSession:function(a,b){try{var c=
sessionStorage.getItem(a);b&&b(c)}catch(f){YT.alertinfo("获取缓存数据信息异常","getSession:"+f)}},setSession:function(a,b){try{sessionStorage.setItem(a,b)}catch(c){YT.alertinfo("设置缓存数据信息异常","setSession:"+c)}},post:function(a,b,c,f){YT.log.debug(b,"req:"+a);if(YT.isEmpty(f)||!YT.isFunction(f))f=function(a){YT.hideWaitPanel();var b=NS.MSG.MsgAjaxError;a&&!YT.isEmpty(a.MSG)&&(b=a.MSG);YT.alertinfo(b)};b={url:a,params:b,success:function(b){YT.log.debug(b,"rsp:"+a);if("005"==b.STATUS)return YT.hideWaitPanel(),YT.sessionTimeout(),
YT.Collection.timeUrl(a,b?b.STATUS||"120":"120"),!1;if("006"==b.STATUS)return YT.hideWaitPanel(),YT.alertinfo(""+b.MSG),YT.Collection.timeUrl(a,b?b.STATUS||"120":"120"),!1;if("1"!=b.STATUS)return f&&f(b),YT.Collection.timeUrl(a,b?b.STATUS||"120":"120"),!1;c&&c(b);YT.Collection.timeUrl(a,b?b.STATUS||"120":"120")},failure:function(b){f&&f(b);YT.Collection.timeUrl(a,b?b.STATUS||"120":"120")}};(1==DEBUG||2==DEBUG)&&0>a.lastIndexOf(".do")?YT.Client.mock(b):YT.AjaxUtil.ajaxData(b)},mock:function(a){$.getScript(a.url).done(function(b){a.success(Mock.mock(YT.JsonEval(b)))}).fail(function(){YT.hideWaitPanel();
YT.alertinfo("mock数据不存在")})},gotoLogin:function(a,b,c){a=YT.getFunctionName(a);YT.Client._quickLogin(a,b,c)},showPopupWindow:function(a,b,c){var f=[];$.each(a,function(b){var e={};b=a[b];e.name=b.name;b=b.func;b=YT.getFunctionName(b);e.func=b;f.push(e)});YT.Popup.initPopupindow(b,c,{list:f})},getNativeCache:function(a,b,c,f,g,k,m){YT.Client.post(a,g,k,m)},openMenuPage:function(a){YT.nextPage(a.url)},chnlId:"1000",upsSid:"",isGateWay:!1,isMessageEncrypt:!1,timeOffSet:0,isCollection:!0,_initDateWidget:function(a,
b){var c=new DateTimePicker.Date({lang:"zh-CN",format:b.format,default:b.text,min:b.min,max:b.max});c.on("selected",function(f,g){c.destroy();if(b.callback)window[b.callback](f);else $("#"+a.attr("id")).val(f)});c.on("canceled",function(){c.destroy()})},_getInputPhoto:function(a,b,c){YT.openWaitPanel();b=b.target.files[0];if("undefined"===typeof FileReader)YT.alertinfo("设备不支持拍照功能");else{if(!b)return YT.hideWaitPanel(),!1;var f=new FileReader;f.onload=function(b){c?YT.Client._compressImg(b.target.result,
"1.0",a,!0):YT.Client._compressImg(b.target.result,"1.0",a,!1)};f.readAsDataURL(b)}},_compressImg:function(a,b,c,f){if(a){b=b||1;var g=new Image;g.src=a;g.onload=function(){var a=document.createElement("canvas"),d=a.getContext("2d");1E3<g.width&&(g.height*=1E3/g.width,g.width=1E3);f&&g.width>g.height?(a.width=g.height,a.height=g.width,d.rotate(90*Math.PI/180),d.drawImage(g,0,0,g.width,-g.height)):(a.width=g.width,a.height=g.height,d.drawImage(g,0,0,g.width,g.height));a=a.toDataURL("image/jpeg").replace(/^data:image\/(jpeg|png|gif);base64,/,
"");YT.hideWaitPanel();c&&c.prevFunc?c.prevFunc(a,b,c):c&&c.callback&&window[c.callback](a,b,{})}}},openPhoneBook:function(a){YT.alertinfo("打开通讯录无权限")},sendSms:function(a){YT.alertinfo("发送短信无权限")},callPhone:function(a){YT.alertinfo("打开通讯录无权限")},gotoIndex:function(){YT.alertinfo("返回系统首页无权限")},gotoBack:function(){YT.alertinfo("返回上一级无权限")},geneQRC:function(a,b){YT.alertinfo("二维码生成无权限")},sweepQRC:function(a){YT.alertinfo("二维码扫一扫无权限")},sharePages:function(a){YT.alertinfo("分享页面跳转无权限")},shareReceipt:function(a){YT.alertinfo("分享电子回单无权限")},
openMobilePhoto:function(a){YT.alertinfo("调用相册无权限")},openMobileCamera:function(a,b){YT.alertinfo("调用手机拍照无权限")},openMobilePhotoAlbum:function(a,b){YT.alertinfo("调用手机&相册无权限")},location:function(a){YT.alertinfo("获取坐标数据无权限")},checkFingerPrint:function(a){YT.alertinfo("指纹验证无权限")},openFingerPrint:function(a){YT.alertinfo("开通指纹无权限")},setGesture:function(a){YT.alertinfo("设置手势无权限")},checkGesture:function(a){YT.alertinfo("验证手势无权限")},openOrColse:function(a){YT.alertinfo("开启/关闭手势登录无权限")},getClientInfo:function(a){YT.alertinfo("获取客户端信息无权限")},
scanBankCardOCR:function(a,b,c){YT.alertinfo("银行卡扫描Ocr待实现")},scanIDCardFrontOCR:function(a,b,c){YT.alertinfo("身份证正面扫描Ocr待实现")},scanIDCardBackOCR:function(a,b,c){YT.alertinfo("身份证背面扫描Ocr待实现")},scanVehicleLicenceFrontOCR:function(a,b,c){YT.alertinfo("行驶证正面扫描Ocr待实现")},scanVehicleLicenceBackOCR:function(a,b,c){YT.alertinfo("行驶证背面扫描Ocr待实现")},scanBusinessLicenceOCR:function(a,b,c){YT.alertinfo("营业执照扫描Ocr待实现")},liveFaceCheck:function(a,b,c){YT.alertinfo("人脸识别待实现")},setCollection:function(a){if(DEBUG||!YT.Client.isCollection){var b=
{mvn:"日志版本号",mt:"消息类型",cct:"采集类型",si:"启动ID",dn:"设备编号",sid:"会话ID",uid:"用户ID",ecn:"ECIF客户号",bc:"行别编码",ci:"渠道ID",cs:"采集来源",url:"服务请求",rc:"服务响应",fp:"上一个页面地址",pid:"页面编号",ldt:"加载耗时",drt:"停留时长",sf:"页面分享标志",mid:"功能ID",epd:"入口页地址",eid:"事件id",ct:"操作时间"},c="#########################################################\n";$.each(a,function(a,d){var f=b[a];"mt"==a&&("2"==d?d="操作":"7"==d&&(d="请求"));YT.isEmpty(f)||(c+=f+": "+d+"\n")});c+="#########################################################";YT.log.debug(c)}else{var f=
localStorage.getItem("WEB_COLLECT_STORAGE"),g=[];YT.isEmpty(f)||(g=YT.JsonEval(f));g.push(a);localStorage.setItem("WEB_COLLECT_STORAGE",YT.JsonToStr(g));10<=g.length&&(localStorage.removeItem("WEB_COLLECT_STORAGE"),a={url:YT.dataUrl("common/behavior/transMsg"),params:g,success:function(){},failure:function(){}},YT.AjaxUtil.ajaxData(a))}}};a._savePwd=function(a){try{YT.isString(a)&&(a=YT.JsonEval(a));var b=a.passVal,h=a.showVal,f=c.PwdPick,g=f.ele,k=f.transAuth;YT.isEmpty(b)||YT.isEmpty(h)?g.attr("data-value",
"").val(""):(g.attr("data-value",b),g.val(h),g.attr("data-random",f.random));YT.isEmpty(k)||"true"!=k||YT.AuthBox.TPwdCallBack(g)}catch(m){YT.alertinfo("回显密码","PwdPick，"+m)}};a._saveDate=function(a){var b=c.datePick.ele;b.val(a);b.trigger("change")};a._saveMoney=function(a){var b=c.moneyPick.ele;b.val(YT.Format.fmtAmt(a));b.trigger("change");b.trigger("input")};a._saveNumber=function(a){var b=c.numberPick.ele;b.val(a);b.trigger("change");b.trigger("input")};a._saveIDC=function(a){var b=c.IDCPick.ele;
b.val(a);b.trigger("change");b.trigger("input")};a._savePwd=function(a){try{YT.isString(a)&&(a=YT.JsonEval(a));var b=a.passVal,h=a.showVal,f=c.PwdPick,g=f.ele,k=f.transAuth;YT.isEmpty(b)||YT.isEmpty(h)?g.attr("data-value","").val(""):(g.attr("data-value",b),g.val(h),g.attr("data-random",f.random));YT.isEmpty(k)||"true"!=k||YT.AuthBox.TPwdCallBack(g)}catch(m){YT.alertinfo("回显密码","PwdPick，"+m)}};YT.log.debug("---end---","YT.Web")});
